"use strict";(self.webpackChunkhuomu=self.webpackChunkhuomu||[]).push([[56],{7353:function(A,a,e){e.r(a),e.d(a,{demos:function(){return O}});var C=e(59496),n=e(39278),O={}},79674:function(A,a,e){e.r(a),e.d(a,{demos:function(){return p}});var C=e(90228),n=e.n(C),O=e(87999),l=e.n(O),x=e(59496),$=e(76517),p={"curd-demo-0":{component:x.memo(x.lazy(l()(n()().mark(function y(){var i,d;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return i=t.sent,d=i.Normal,t.abrupt("return",{default:d});case 5:case"end":return t.stop()}},y)})))),asset:{type:"BLOCK",id:"curd-demo-0",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { Normal } from './demo';

export default Normal;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var y=l()(n()().mark(function d(){var m,t=arguments;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(576).then(e.bind(e,47576));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,t));case 3:case"end":return r.stop()}},d)}));function i(){return y.apply(this,arguments)}return i}()}},"curd-demo-1":{component:x.memo(x.lazy(l()(n()().mark(function y(){var i,d;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return i=t.sent,d=i.ReadDetail,t.abrupt("return",{default:d});case 5:case"end":return t.stop()}},y)})))),asset:{type:"BLOCK",id:"curd-demo-1",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { ReadDetail } from './demo';

export default ReadDetail;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var y=l()(n()().mark(function d(){var m,t=arguments;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(576).then(e.bind(e,47576));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,t));case 3:case"end":return r.stop()}},d)}));function i(){return y.apply(this,arguments)}return i}()}},"curd-demo-2":{component:x.memo(x.lazy(l()(n()().mark(function y(){var i,d;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return i=t.sent,d=i.RemoteData,t.abrupt("return",{default:d});case 5:case"end":return t.stop()}},y)})))),asset:{type:"BLOCK",id:"curd-demo-2",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { RemoteData } from './demo';

export default RemoteData;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var y=l()(n()().mark(function d(){var m,t=arguments;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(576).then(e.bind(e,47576));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,t));case 3:case"end":return r.stop()}},d)}));function i(){return y.apply(this,arguments)}return i}()}},"curd-demo-3":{component:x.memo(x.lazy(l()(n()().mark(function y(){var i,d;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return i=t.sent,d=i.Ref,t.abrupt("return",{default:d});case 5:case"end":return t.stop()}},y)})))),asset:{type:"BLOCK",id:"curd-demo-3",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { Ref } from './demo';

export default Ref;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var y=l()(n()().mark(function d(){var m,t=arguments;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(576).then(e.bind(e,47576));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,t));case 3:case"end":return r.stop()}},d)}));function i(){return y.apply(this,arguments)}return i}()}},"curd-demo-4":{component:x.memo(x.lazy(l()(n()().mark(function y(){var i,d;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return i=t.sent,d=i.ActionRef,t.abrupt("return",{default:d});case 5:case"end":return t.stop()}},y)})))),asset:{type:"BLOCK",id:"curd-demo-4",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { ActionRef } from './demo';

export default ActionRef;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var y=l()(n()().mark(function d(){var m,t=arguments;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(576).then(e.bind(e,47576));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,t));case 3:case"end":return r.stop()}},d)}));function i(){return y.apply(this,arguments)}return i}()}},"curd-demo-5":{component:x.memo(x.lazy(l()(n()().mark(function y(){var i,d;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return i=t.sent,d=i.NoSearch,t.abrupt("return",{default:d});case 5:case"end":return t.stop()}},y)})))),asset:{type:"BLOCK",id:"curd-demo-5",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { NoSearch } from './demo';

export default NoSearch;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var y=l()(n()().mark(function d(){var m,t=arguments;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(576).then(e.bind(e,47576));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,t));case 3:case"end":return r.stop()}},d)}));function i(){return y.apply(this,arguments)}return i}()}}}},77723:function(A,a,e){e.r(a),e.d(a,{demos:function(){return i}});var C=e(90228),n=e.n(C),O=e(48305),l=e.n(O),x=e(87999),$=e.n(x),p=e(59496),y=e(76646),i={"editor_javascript-demo-0":{component:p.memo(p.lazy($()(n()().mark(function d(){var m,t,R,r,B;return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return B=function(){var S=t(`const name = 'world';
console.log('hello', name);
`),L=l()(S,2),G=L[0],w=L[1];return p.createElement("div",{style:{width:"500px",height:"500px"}},p.createElement(r,{value:G,onChange:w}))},u.next=3,Promise.resolve().then(e.t.bind(e,59496,19));case 3:return m=u.sent,t=m.useState,u.next=7,Promise.resolve().then(e.bind(e,4147));case 7:return R=u.sent,r=R.EditorJavascript,u.abrupt("return",{default:B});case 10:case"end":return u.stop()}},d)})))),asset:{type:"BLOCK",id:"editor_javascript-demo-0",refAtomIds:["editor_javascript"],dependencies:{"index.tsx":{type:"FILE",value:`import { useState } from 'react';
import { EditorJavascript } from '@huomu/core';

function Demo() {
  const [value, setValue] = useState(
    \`const name = 'world';
console.log('hello', name);
\`
  );

  return (
    <div style={{ width: '500px', height: '500px' }}>
      <EditorJavascript value={value} onChange={setValue} />
    </div>
  );
}

export default Demo;`},react:{type:"NPM",value:"17.0.2"},"@huomu/core":{type:"NPM",value:"1.3.4"}},entry:"index.tsx"},context:{react:e(59496),"@huomu/core":e(4147)},renderOpts:{compile:function(){var d=$()(n()().mark(function t(){var R,r=arguments;return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,e.e(576).then(e.bind(e,47576));case 2:return D.abrupt("return",(R=D.sent).default.apply(R,r));case 3:case"end":return D.stop()}},t)}));function m(){return d.apply(this,arguments)}return m}()}}}},47585:function(A,a,e){e.r(a),e.d(a,{demos:function(){return i}});var C=e(90228),n=e.n(C),O=e(48305),l=e.n(O),x=e(87999),$=e.n(x),p=e(59496),y=e(71448),i={"editor_json-demo-0":{component:p.memo(p.lazy($()(n()().mark(function d(){var m,t,R,r,B;return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return B=function(){var S=t(`{
    "name": "world"
}
`),L=l()(S,2),G=L[0],w=L[1];return p.createElement("div",{style:{width:"500px",height:"500px"}},p.createElement(r,{value:G,onChange:w}))},u.next=3,Promise.resolve().then(e.t.bind(e,59496,19));case 3:return m=u.sent,t=m.useState,u.next=7,Promise.resolve().then(e.bind(e,4147));case 7:return R=u.sent,r=R.EditorJSON,u.abrupt("return",{default:B});case 10:case"end":return u.stop()}},d)})))),asset:{type:"BLOCK",id:"editor_json-demo-0",refAtomIds:["editor_json"],dependencies:{"index.tsx":{type:"FILE",value:`import { useState } from 'react';
import { EditorJSON } from '@huomu/core';

function Demo() {
  const [value, setValue] = useState(
    \`{
    "name": "world"
}
\`
  );

  return (
    <div style={{ width: '500px', height: '500px' }}>
      <EditorJSON value={value} onChange={setValue} />
    </div>
  );
}

export default Demo;`},react:{type:"NPM",value:"17.0.2"},"@huomu/core":{type:"NPM",value:"1.3.4"}},entry:"index.tsx"},context:{react:e(59496),"@huomu/core":e(4147)},renderOpts:{compile:function(){var d=$()(n()().mark(function t(){var R,r=arguments;return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,e.e(576).then(e.bind(e,47576));case 2:return D.abrupt("return",(R=D.sent).default.apply(R,r));case 3:case"end":return D.stop()}},t)}));function m(){return d.apply(this,arguments)}return m}()}}}},25626:function(A,a,e){e.r(a),e.d(a,{demos:function(){return i}});var C=e(90228),n=e.n(C),O=e(48305),l=e.n(O),x=e(87999),$=e.n(x),p=e(59496),y=e(97116),i={"editor_markdown-demo-0":{component:p.memo(p.lazy($()(n()().mark(function d(){var m,t,R,r,B;return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return B=function(){var S=t(`# hello

world
`),L=l()(S,1),G=L[0];return p.createElement("div",{style:{width:"500px",height:"500px"}},p.createElement(r,{value:G}))},u.next=3,Promise.resolve().then(e.t.bind(e,59496,19));case 3:return m=u.sent,t=m.useState,u.next=7,Promise.resolve().then(e.bind(e,4147));case 7:return R=u.sent,r=R.EditorMarkdown,u.abrupt("return",{default:B});case 10:case"end":return u.stop()}},d)})))),asset:{type:"BLOCK",id:"editor_markdown-demo-0",refAtomIds:["editor_markdown"],dependencies:{"index.tsx":{type:"FILE",value:`import { useState } from 'react';
import { EditorMarkdown } from '@huomu/core';

function Demo() {
  const [value] = useState(
    \`# hello

world
\`
  );

  return (
    <div style={{ width: '500px', height: '500px' }}>
      <EditorMarkdown value={value} />
    </div>
  );
}

export default Demo;`},react:{type:"NPM",value:"17.0.2"},"@huomu/core":{type:"NPM",value:"1.3.4"}},entry:"index.tsx"},context:{react:e(59496),"@huomu/core":e(4147)},renderOpts:{compile:function(){var d=$()(n()().mark(function t(){var R,r=arguments;return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,e.e(576).then(e.bind(e,47576));case 2:return D.abrupt("return",(R=D.sent).default.apply(R,r));case 3:case"end":return D.stop()}},t)}));function m(){return d.apply(this,arguments)}return m}()}}}},63931:function(A,a,e){e.r(a),e.d(a,{demos:function(){return O}});var C=e(59496),n=e(57016),O={}},69059:function(A,a,e){e.r(a),e.d(a,{demos:function(){return p}});var C=e(90228),n=e.n(C),O=e(87999),l=e.n(O),x=e(59496),$=e(63207),p={"value_type_map-demo-0":{component:x.memo(x.lazy(l()(n()().mark(function y(){var i,d,m,t,R,r,B,D,u,z,S,L,G,w;return n()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return L=function(){return L=l()(n()().mark(function X(){var re;return n()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return re=D(5).map(function(ue){return{id:"".concat(ue),timeStr:"2024-10-01 10:00:00",timeNumber:+z("2024-10-01 10:00:00"),dateStr:"2024-10-01",dateNumber:+z("2024-10-01")}}),k.abrupt("return",Promise.resolve({data:{data:re,success:!0,totalSize:100}}));case 2:case"end":return k.stop()}},X)})),L.apply(this,arguments)},S=function(){return L.apply(this,arguments)},M.next=4,Promise.resolve().then(e.bind(e,4147));case 4:return i=M.sent,d=i.CURD,m=i.customValueTypeMap,t=i.CustomValueTypeEnum,M.next=10,Promise.resolve().then(e.bind(e,73975));case 10:return R=M.sent,r=R.ProConfigProvider,M.next=14,Promise.resolve().then(e.bind(e,15337));case 14:return B=M.sent,D=B.range,M.next=18,Promise.resolve().then(e.t.bind(e,28026,23));case 18:return u=M.sent,z=u.default,G=function(){var X=[{title:"id",dataIndex:"id"},{title:"\u65F6\u95F4 str",dataIndex:"timeStr",valueType:t.CustomDateTimeAndDateRange,search:!0},{title:"\u65F6\u95F4 number",dataIndex:"timeNumber",valueType:t.CustomDateTimeAndDateRange,search:!0},{title:"\u65E5\u671F str",dataIndex:"dateStr",valueType:t.CustomDateAndDateRange,search:!0},{title:"\u65E5\u671F number",dataIndex:"dateNumber",valueType:t.CustomDateAndDateRange,search:!0}];return x.createElement(d,{actions:[],hmTableProps:{hmColumns:X,hmRequest:S}})},w=function(){return x.createElement(r,{valueTypeMap:m},x.createElement(G,null))},M.abrupt("return",{default:w});case 23:case"end":return M.stop()}},y)})))),asset:{type:"BLOCK",id:"value_type_map-demo-0",refAtomIds:["value_type_map"],dependencies:{"index.tsx":{type:"FILE",value:`import { CURD, customValueTypeMap, CustomValueTypeEnum } from '@huomu/core';
import { ProConfigProvider } from '@ant-design/pro-components';
import { range } from 'lodash-es';
import dayjs from 'dayjs';

async function fakeHMRequest() {
  const data = range(5).map((item) => ({
    id: \`\${item}\`,
    timeStr: \`2024-10-01 10:00:00\`,
    timeNumber: +dayjs('2024-10-01 10:00:00'),
    dateStr: \`2024-10-01\`,
    dateNumber: +dayjs('2024-10-01'),
  }));

  return Promise.resolve({
    data: {
      data,
      success: true,
      totalSize: 100,
    },
  }) as Promise<any>;
}

const Table = () => {
  const hmColumns: any[] = [
    {
      title: 'id',
      dataIndex: 'id',
    },
    {
      title: '\u65F6\u95F4 str',
      dataIndex: 'timeStr',
      valueType: CustomValueTypeEnum.CustomDateTimeAndDateRange,
      search: true,
    },
    {
      title: '\u65F6\u95F4 number',
      dataIndex: 'timeNumber',
      valueType: CustomValueTypeEnum.CustomDateTimeAndDateRange,
      search: true,
    },
    {
      title: '\u65E5\u671F str',
      dataIndex: 'dateStr',
      valueType: CustomValueTypeEnum.CustomDateAndDateRange,
      search: true,
    },
    {
      title: '\u65E5\u671F number',
      dataIndex: 'dateNumber',
      valueType: CustomValueTypeEnum.CustomDateAndDateRange,
      search: true,
    },
  ];

  return (
    <CURD
      actions={[]}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeHMRequest,
      }}
    />
  );
};

const Demo = () => (
  <ProConfigProvider valueTypeMap={customValueTypeMap}>
    <Table />
  </ProConfigProvider>
);

export default Demo;`},"@huomu/core":{type:"NPM",value:"1.3.4"},"@ant-design/pro-components":{type:"NPM",value:"2.7.15"},"lodash-es":{type:"NPM",value:"4.17.21"},dayjs:{type:"NPM",value:"1.11.12"}},entry:"index.tsx"},context:{"@huomu/core":e(4147),"@ant-design/pro-components":e(73975),"lodash-es":e(15337),dayjs:e(28026)},renderOpts:{compile:function(){var y=l()(n()().mark(function d(){var m,t=arguments;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.e(576).then(e.bind(e,47576));case 2:return r.abrupt("return",(m=r.sent).default.apply(m,t));case 3:case"end":return r.stop()}},d)}));function i(){return y.apply(this,arguments)}return i}()}}}},99512:function(A,a,e){e.r(a),e.d(a,{demos:function(){return O}});var C=e(59496),n=e(43797),O={}},25983:function(A,a,e){e.r(a),e.d(a,{demos:function(){return O}});var C=e(59496),n=e(68889),O={}},37209:function(A,a,e){e.r(a),e.d(a,{demos:function(){return O}});var C=e(59496),n=e(93112),O={}},20321:function(A,a,e){e.r(a),e.d(a,{ActionRef:function(){return Pe},NoSearch:function(){return pe},Normal:function(){return Me},ReadDetail:function(){return Te},Ref:function(){return Oe},RemoteData:function(){return Ce}});var C=e(90228),n=e.n(C),O=e(87999),l=e.n(O),x=e(48305),$=e.n(x),p=e(26068),y=e.n(p),i=e(59496),d=e(4147),m=e(21941),t=e(68908),R=e(53992),r=e(32282),B=e(62802),D={\u5E7F\u5DDE:["\u767D\u4E91","\u9EC4\u57D4","\u589E\u57CE"],\u6DF1\u5733:["\u798F\u7530","\u5357\u5C71","\u5B9D\u5B89"]},u={HIGH:{text:"\u9AD8"},MEDIUM:{text:"\u4E2D"},LOW:{text:"\u4F4E"}},z=[{value:"0",label:"\u7B2C\u4E00\u5C0F\u5B66"},{value:"1",label:"\u7B2C\u4E8C\u5C0F\u5B66"},{value:"2",label:"\u7B2C\u4E09\u5C0F\u5B66"}];function S(f){return Math.floor(Math.random()*f)}function L(){return Object.keys(D)[S(Object.keys(D).length+1)]}function G(f){if(f.city)return f.city&&D[f.city][S(D[f.city].length+1)]}function w(){return Object.keys(u)[S(Object.keys(u).length+1)]}function me(f){return(0,B.Z)(f).map(function(P){var _=L(),v=G({city:_});return{id:"".concat(P),name:"\u8FD9\u662F\u540D\u5B57\u8FD9\u662F\u540D\u5B57 ".concat(P),city:_,area:v,level:w(),status:S(2)===1,school:""+S(z.length)}})}var M=me(21);function H(f){return X.apply(this,arguments)}function X(){return X=l()(n()().mark(function f(P){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return console.log("fakeHMRequest",P),v.abrupt("return",new Promise(function(j){setTimeout(function(){j({data:{data:M,success:!0,totalSize:M.length}})},1e3)}));case 2:case"end":return v.stop()}},f)})),X.apply(this,arguments)}function re(f){return ae.apply(this,arguments)}function ae(){return ae=l()(n()().mark(function f(P){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return console.log("fakeHMDeleteById",P),M=M.filter(function(j){return j.id!==P.id}),v.abrupt("return",Promise.resolve({}));case 3:case"end":return v.stop()}},f)})),ae.apply(this,arguments)}function k(f){return ue.apply(this,arguments)}function ue(){return ue=l()(n()().mark(function f(P){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return console.log("fakeHMGetById",P),v.abrupt("return",new Promise(function(j){setTimeout(function(){j({data:{data:M.find(function(ee){return ee.id===P.id})}})},1e3)}));case 2:case"end":return v.stop()}},f)})),ue.apply(this,arguments)}function oe(f){return ie.apply(this,arguments)}function ie(){return ie=l()(n()().mark(function f(P){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return console.log("fakeHMAdd",P),M.push(y()({id:M.length+1},P)),v.abrupt("return",Promise.resolve({}));case 3:case"end":return v.stop()}},f)})),ie.apply(this,arguments)}function ve(f){return ce.apply(this,arguments)}function ce(){return ce=l()(n()().mark(function f(P){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return console.log("fakeHMUpdateById",P),M=M.map(function(j){return j.id===P.id?y()(y()({},j),P):j}),v.abrupt("return",Promise.resolve({}));case 3:case"end":return v.stop()}},f)})),ce.apply(this,arguments)}function q(){return Promise.resolve(Object.keys(D))}function De(f){return f!=null&&f.city?Promise.resolve(D[f.city]):Promise.resolve(Object.values(D).reduce(function(P,_){return P.concat(_)},[]))}function ge(){return Promise.resolve(z)}var U=e(4637),Me=function(){var P=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57(\u7701\u7565)",dataIndex:"name",search:!0,ellipsis:!0},{title:"city",dataIndex:"city"},{title:"area",dataIndex:"area"}];return(0,U.jsx)(d.CURD,{actions:["create","read","delete","update"],hmTableProps:{hmColumns:P,hmRequest:H},deleteProps:{nameIndex:"name",deleteById:re},detailForm:function(v){return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(t.Z,y()(y()({},v),{},{name:"name",label:"\u540D\u5B57",required:!0,rules:[{required:!0}]}))})},requestGetById:k,requestAdd:oe,requestUpdateById:ve})};function Te(){var f=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57",dataIndex:"name",search:!0}];return(0,U.jsx)(d.CURD,{actions:["read_detail"],hmTableProps:{hmColumns:f,hmRequest:H}})}function Oe(){var f=(0,i.useRef)(),P=R.A.useForm(),_=$()(P,1),v=_[0];window._detailFormInstance=v;var j=R.A.useWatch("name",f.current),ee=R.A.useWatch("name",v);console.log("useWatch",j,ee);var Y=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57",dataIndex:"name",search:!0}];return(0,U.jsx)(d.CURD,{actions:["create","read","update"],hmTableProps:{formRef:f,hmColumns:Y,hmRequest:H},detailFormInstance:v,detailForm:function(te){return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(t.Z,y()(y()({},te),{},{name:"name",label:"\u540D\u5B57",required:!0,rules:[{required:!0}],initialValue:"default"})),(0,U.jsx)(r.Z,y()(y()({},te),{},{name:"status",label:"\u5F00\u542F",initialValue:!1}))]})},requestGetById:k,requestAdd:oe,requestUpdateById:ve})}function Pe(){var f=(0,i.useRef)(),P=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57",dataIndex:"name",search:!0}];return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(m.ZP,{onClick:function(){var v;return(v=f.current.getActionRef().current)===null||v===void 0?void 0:v.reload()},children:"reload"}),(0,U.jsx)(d.CURD,{ref:f,actions:[],hmTableProps:{hmColumns:P,hmRequest:H}})]})}function Ce(){var f=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57",dataIndex:"name",search:!0},{title:"\u7B49\u7EA7(\u672C\u5730\u6570\u636E)",dataIndex:"level",search:!0,valueEnum:u},{title:"city(\u8FDC\u7AEF\u6570\u636E)",dataIndex:"city",search:!0,request:function(){var P=l()(n()().mark(function v(){var j;return n()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,q();case 2:return j=Y.sent,Y.abrupt("return",j.map(function(Z){return{label:Z,value:Z}})||[]);case 4:case"end":return Y.stop()}},v)}));function _(){return P.apply(this,arguments)}return _}()},{title:"area(\u8054\u52A8 city)",dataIndex:"area",search:!0,request:function(){var P=l()(n()().mark(function v(j){var ee;return n()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return console.log("params",j),Z.next=3,De(j);case 3:return ee=Z.sent,Z.abrupt("return",ee.map(function(te){return{label:te,value:te}})||[]);case 5:case"end":return Z.stop()}},v)}));function _(v){return P.apply(this,arguments)}return _}(),dependencies:["city"]},{title:"\u5B66\u6821(\u8FDC\u7AEF\u6570\u636E label value)",dataIndex:"school",search:!0,valueType:"select",request:function(){return ge()}}];return(0,U.jsx)(d.CURD,{actions:[],hmTableProps:{hmColumns:f,hmRequest:H}})}function pe(){var f=(0,i.useRef)(),P=[{title:"id",dataIndex:"id"},{title:"\u540D\u5B57",dataIndex:"name"}];return(0,U.jsx)(d.CURD,{ref:f,actions:[],hmTableProps:{hmColumns:P,hmRequest:H}})}},4147:function(A,a,e){e.r(a),e.d(a,{CURD:function(){return ie},CURDDetail:function(){return oe},CustomValueTypeEnum:function(){return ye},EditorJSON:function(){return f},EditorJavascript:function(){return Ce},EditorMarkdown:function(){return j},FileUpload:function(){return Z},HMDescriptions:function(){return ge},HMTable:function(){return G},OperateDelete:function(){return H},createStore:function(){return Fe},customValueTypeMap:function(){return be},getTableScroll:function(){return w},useDelete:function(){return M}});var C=e(15558),n=e.n(C),O=e(26068),l=e.n(O),x=e(73197),$=e(21941),p=e(59496),y=e(5791),i=e(33553),d=e(90228),m=e.n(d),t=e(67825),R=e.n(t),r=e(87999),B=e.n(r),D=e(19525),u=e(4637),z=["current","pageSize"],S=["hmRequest","request","hmColumns","columns","rowKey"];function L(o){return function(){var s=B()(m()().mark(function c(h){var I,g,E,T;return m()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return I=h.current,g=h.pageSize,E=R()(h,z),K.next=3,o(l()({page:I,pageSize:g},E));case 3:return T=K.sent,K.abrupt("return",{data:T.data.data,success:T.data.success,total:T.data.totalSize});case 5:case"end":return K.stop()}},c)}));return function(c){return s.apply(this,arguments)}}()}function G(o){var s=o.hmRequest,c=o.request,h=o.hmColumns,I=o.columns,g=o.rowKey,E=g===void 0?"id":g,T=R()(o,S),b=(0,p.useCallback)(function(J){return s?L(s)(J):c(J,{},{})},[s,c]),K=(0,p.useMemo)(function(){return h?h.map(function(J){return l()({search:!1},J)}):I},[I,h]);return(0,u.jsx)(D.Z,l()({cardBordered:!0,rowKey:E,pagination:l()({showSizeChanger:!0,showQuickJumper:!0},T.pagination),options:!1,request:b,columns:K},T))}function w(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:120,c={x:0,y:void 0};return o==null||o.forEach(function(h){h.hideInTable||(c.x+=Number(h.width)||s)}),c}var me=e(90037);function M(o){var s=o.name,c=o.desc,h=o.onDelete,I=(0,p.useCallback)(function(){me.Z.confirm({title:"\u786E\u8BA4\u5220\u9664 \u201C".concat(s,"\u201D \u5417\uFF1F"),content:c||"\u5220\u9664\u540E\u4E0D\u53EF\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onOk:function(){h()}})},[s,c,h]);return{doDelete:I}}function H(o){var s=o.name,c=o.desc,h=o.onDelete,I=(0,p.useCallback)(function(){me.Z.confirm({title:"\u786E\u8BA4\u5220\u9664 \u201C".concat(s,"\u201D \u5417\uFF1F"),content:c||"\u5220\u9664\u540E\u4E0D\u53EF\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onOk:function(){h()}})},[s,c,h]);return(0,u.jsx)("a",{style:{color:"red"},onClick:I,children:"\u5220\u9664"})}var X=e(48305),re=e.n(X),ae=e(75379),k=e(53992),ue=e(33417);function oe(o){var s=o.action,c=o.id,h=o.record,I=o.trigger,g=o.onSuccess,E=o.detailForm,T=o.requestGetById,b=o.requestGetByRecord,K=o.requestAdd,J=o.requestUpdateById,Ie=o.detailFormInstance,Ee=(0,p.useState)(!1),he=re()(Ee,2),ne=he[0],fe=he[1],le=k.A.useForm(Ie),Re=re()(le,1),F=Re[0],se=(0,p.useCallback)(function(){var N=B()(m()().mark(function de(Q){return m()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(V.prev=0,!(s==="create"&&K)){V.next=5;break}return V.next=4,K(Q);case 4:ae.ZP.open({type:"success",content:"\u521B\u5EFA\u6210\u529F"});case 5:if(!(s==="update"&&J)){V.next=9;break}return V.next=8,J(l()(l()({},Q),{},{id:c}));case 8:ae.ZP.open({type:"success",content:"\u66F4\u65B0\u6210\u529F"});case 9:return g==null||g(),V.abrupt("return",!0);case 13:V.prev=13,V.t0=V.catch(0),setTimeout(function(){throw V.t0},10);case 16:case"end":return V.stop()}},de,null,[[0,13]])}));return function(de){return N.apply(this,arguments)}}(),[s,K,J,g,c]),xe=(0,p.useCallback)(function(N){if(!N){F==null||F.resetFields(),fe(N);return}if(fe(N),c){if(T)return T({id:c}).then(function(de){F==null||F.setFieldsValue(de.data.data)});if(b)return b(h).then(function(de){F==null||F.setFieldsValue(de.data.data)})}},[F,c,T,b,h]),W=(0,p.useMemo)(function(){return!ne||!E?null:E({readonly:s==="read"&&!!c},{action:s})},[ne,E,s,c]);return(0,u.jsxs)(ue.a,{form:F,trigger:I,autoFocusFirstInput:!0,onFinish:se,onOpenChange:xe,layout:"vertical",readonly:s==="read"&&!!c,drawerProps:{destroyOnClose:!0},children:[(0,u.jsx)("div",{className:"h-[20px]"}),W]})}var ie=(0,p.forwardRef)(function(s,c){var h=s.actions,I=s.hmTableProps,g=s.createButton,E=s.deleteProps,T=s.detailIdIndex,b=s.detailForm,K=s.requestGetById,J=s.requestGetByRecord,Ie=s.requestAdd,Ee=s.requestUpdateById,he=s.detailFormInstance,ne=(0,p.useRef)(),fe=(0,y.TH)();(0,p.useImperativeHandle)(c,function(){return{getActionRef:function(){return ne}}},[ne]);var le=(0,p.useMemo)(function(){return{detailForm:b,requestGetById:K,requestGetByRecord:J,requestAdd:Ie,requestUpdateById:Ee,detailFormInstance:he}},[b,Ie,K,J,Ee,he]),Re=(0,p.useCallback)(function(W){return function(){if(E!=null&&E.deleteById)return E.deleteById({id:W.id,ids:[W.id]}).then(function(){var N;(N=ne.current)===null||N===void 0||N.reload()});if(E!=null&&E.deleteByRecord)return E.deleteByRecord(W).then(function(){var N;(N=ne.current)===null||N===void 0||N.reload()});throw new Error("\u6CA1\u6709\u4F20 deleteById or deleteByRecord")}},[E]),F=(0,p.useCallback)(function(){var W;(W=ne.current)===null||W===void 0||W.reload()},[]),se=(0,p.useMemo)(function(){var W={title:"\u64CD\u4F5C",fixed:"right",width:120,render:function(de,Q){return(0,u.jsxs)(x.Z,{children:[h.includes("read")&&(0,u.jsx)(oe,l()({id:Q.id,record:Q,onSuccess:F,trigger:(0,u.jsx)("a",{children:"\u67E5\u770B"}),action:"read"},le)),h.includes("read_detail")&&(0,u.jsx)(i.rU,{to:"".concat(fe.pathname,"/detail/").concat(Q[T||"id"]),children:"\u67E5\u770B"}),h.includes("update")&&(0,u.jsx)(oe,l()({id:Q.id,record:Q,onSuccess:F,trigger:(0,u.jsx)("a",{children:"\u7F16\u8F91"}),action:"update"},le)),h.includes("delete")&&E&&(0,u.jsx)(H,{name:Q[E.nameIndex],desc:E.desc,onDelete:Re(Q)})]})}};return h.includes("read")||h.includes("read_detail")||h.includes("update")||h.includes("delete")?[].concat(n()(I.hmColumns||I.columns||[]),[W]):I.hmColumns},[h,E,T,le,Re,F,I.columns,I.hmColumns,fe.pathname]),xe=!!(se!=null&&se.find(function(W){return W.search}));return(0,u.jsx)("div",{className:"",children:(0,u.jsx)(G,l()(l()({rowKey:"id"},I),{},{scroll:w(se),actionRef:ne,toolBarRender:function(){return[].concat(n()(I.toolBarRender?I.toolBarRender.apply(I,arguments):[]),[h.includes("create")&&(0,u.jsx)(oe,l()({onSuccess:F,trigger:g||(0,u.jsx)($.ZP,{type:"primary",children:"\u65B0\u5EFA"}),action:"create"},le))])},search:xe&&l()({layout:"vertical",defaultCollapsed:!1},I.search),hmColumns:se}))})}),ve=e(66850),ce=e(28026),q=e.n(ce),De=["hmItems","items"];function ge(o){var s=o.hmItems,c=o.items,h=R()(o,De),I=(0,p.useMemo)(function(){return s?s.map(function(g){var E=g.children;return g.children!==null&&g.children!==void 0&&(g.valueType==="date"?E=q()(E).format("YYYY-MM-DD"):g.valueType==="dateTime"?E=q()(E).format("YYYY-MM-DD HH:mm:ss"):g.valueType==="time"&&(E=q()(E).format("HH:mm:ss"))),l()(l()({},g),{},{children:E||"-"})}):c},[s,c]);return(0,u.jsx)(ve.Z,l()({items:I},h))}var U=e(34019),Me=e(65273),Te=e(59590),Oe=e(32479),Pe={width:"100%",height:"100%"};function Ce(o){var s=o.value,c=o.onChange,h=o.readonly;return(0,u.jsx)(U.ZP,{style:Pe,mode:"javascript",theme:"monokai",value:s,onChange:c,readOnly:h,name:"javascript_editor",editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2}})}var pe=e(26494);function f(o){var s=o.value,c=o.onChange,h=o.readonly,I=(0,p.useRef)(null),g=(0,p.useRef)(null),E=(0,p.useRef)(c);return(0,p.useEffect)(function(){var T;(T=g.current)===null||T===void 0||T.update({text:s||""})},[s]),(0,p.useEffect)(function(){g.current=new pe.q9({target:I.current,props:{mode:pe.AR.text,readOnly:h,content:{text:s||""},onChange:function(b){E.current(b.text)}}})},[]),(0,u.jsx)("div",{ref:I,className:"h-full w-full"})}var P=e(70876),_=e(51709),v=["children","className","node"];function j(o){var s=o.value;return(0,u.jsx)(P.U,{unwrapDisallowed:!0,components:{code:function(h){var I=h.children,g=h.className,E=h.node,T=R()(h,v),b=/language-(\w+)/.exec(g||"");return b?(0,u.jsx)(_.Z,l()(l()({},T),{},{PreTag:"div",wrapLongLines:!0,children:String(I).replace(/\n$/,""),language:b[1].toLowerCase()})):(0,u.jsx)("code",l()(l()({},T),{},{className:g,children:I}))}},children:s||""})}var ee=e(55860),Y=e(12592);function Z(o){var s=o.value,c=o.onChange,h=function(E){return c==null||c(E),!1},I=function(){c==null||c(void 0)};return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Y.Z,{name:"file",maxCount:1,showUploadList:!0,fileList:s?[s]:void 0,beforeUpload:h,onRemove:I,children:(0,u.jsx)($.ZP,{icon:(0,u.jsx)(ee.Z,{}),children:"\u70B9\u51FB\u9009\u62E9\u6587\u4EF6"})})})}var te=e(64934),Se=e(65124),Le=function(s){return function(c,h,I){var g=(0,Se.mW)(s);return g(c,h,I)}},Ae=Le,Fe=function(s){return s?(0,te.Ue)()(Ae(s)):function(c){return(0,te.Ue)()(Ae(c))}},$e=e(82092),Be=e.n($e),Ke=e(85003),We=e(83873);function _e(o){return(0,We.Z)(o)&&/^\d+$/.test(o)?q()(parseInt(o)):q()(o)}var ye=function(o){return o.CustomDateTimeAndDateRange="CustomDateTimeAndDateRange",o.CustomDateAndDateRange="CustomDateAndDateRange",o}(ye||{}),je={dateTime:function(s){return s?(0,u.jsx)("div",{children:_e(s).format("YYYY-MM-DD HH:mm:ss")}):(0,u.jsx)("div",{children:"-"})},date:function(s){return s?(0,u.jsx)("div",{children:_e(s).format("YYYY-MM-DD")}):(0,u.jsx)("div",{children:"-"})}},Ue={dateRange:function(s,c){return(0,u.jsx)(Ke.Z,l()(l()({},c),{},{fieldProps:l()(l()({},c.fieldProps),{},{onChange:function(I){var g,E,T=I&&[q()(I[0]).startOf("day"),q()(I[1]).endOf("day")];(g=(E=c.fieldProps).onChange)===null||g===void 0||g.call(E,T)}})}))}},be=Be()(Be()({},ye.CustomDateTimeAndDateRange,{render:je.dateTime,renderFormItem:Ue.dateRange}),ye.CustomDateAndDateRange,{render:je.date,renderFormItem:Ue.dateRange})},63537:function(A,a,e){e.r(a),e.d(a,{texts:function(){return n}});var C=e(39278);const n=[{value:`// commitlint.config.js
module.exports = { extends: ['@huomu/commit-lint'] };
`,paraId:0,tocIndex:0}]},33517:function(A,a,e){e.r(a),e.d(a,{texts:function(){return n}});var C=e(76517);const n=[{value:"\u9700\u8981\u975E\u5E38\u4E86\u89E3 ant pro-components ProForm ProTable",paraId:0,tocIndex:0},{value:"\u57FA\u4E8E ant pro-components \u901A\u7528\u7684 CURD \u7EC4\u4EF6\uFF0C\u540C\u65F6\u4FDD\u7559\u6269\u5C55\u6027\u3002",paraId:1,tocIndex:0},{value:"\u8C03\u6574 actions \u4E3A ",paraId:2,tocIndex:3},{value:"['read_detail']",paraId:2,tocIndex:3},{value:"\uFF0C\u70B9\u51FB<\u67E5\u770B>\u8DF3\u8F6C\u5230 ",paraId:2,tocIndex:3},{value:"xxx/detail/[id]",paraId:2,tocIndex:3},{value:"\uFF0C",paraId:2,tocIndex:3},{value:"\u83B7\u53D6 ProTable \u7684 actionRef",paraId:3,tocIndex:5},{value:"\u901A\u8FC7 ref \u4F60\u53EF\u4EE5\u505A\u66F4\u591A\u64CD\u4F5C",paraId:4,tocIndex:6},{value:`import type { ReactNode } from 'react';
import type { HMTableProps } from '../table';
import type { ProFormInstance, ActionType } from '@ant-design/pro-components';

/**
 * create \u521B\u5EFA
 * read \u67E5\u770B
 * read_detail \u8BE6\u60C5\u9875\u67E5\u770B
 * update \u7F16\u8F91
 * delete \u5220\u9664
 */
type CurdAction = 'create' | 'read' | 'read_detail' | 'update' | 'delete';

interface CURDProps {
  actions: CurdAction[];

  /** \u8868\u683C\u76F8\u5173 */
  hmTableProps: HMTableProps;

  /** \u5220\u9664\u76F8\u5173 */
  deleteProps?: {
    /** \u663E\u793A\u540D\u79F0\u7D22\u5F15 */
    nameIndex: string;
    /** \u5220\u9664\u63A5\u53E3 */
    deleteById?: ({ id, ids }) => Promise<any>;
    deleteByRecord?: (record) => Promise<any>;
    desc?: string;
  };

  /** \u65B0\u5EFA\u6309\u94AE\uFF0C\u9ED8\u8BA4\u65B0\u5EFA */
  createButton?: ReactNode;

  /** \u5F39\u7A97\u8868\u5355 */
  detailForm?: (formProps: { readonly: boolean }, info: { action: CurdAction }) => ReactNode;
  /** detailForm \u7684 formRef */
  detailFormInstance?: ProFormInstance;

  /** \u65B0\u589E\u63A5\u53E3 */
  requestAdd?: (values) => Promise<any>;
  /** \u66F4\u65B0\u63A5\u53E3 */
  requestUpdateById?: (values) => Promise<any>;

  /** \u83B7\u53D6\u8BE6\u60C5\u63A5\u53E3 */
  requestGetById?: ({ id }) => Promise<any>;
  /** \u83B7\u53D6\u8BE6\u60C5\u63A5\u53E3\uFF0C\u975E id \u7684\u65F6\u5019 */
  requestGetByRecord?: (record) => Promise<any>;

  /** \u8DF3\u8F6C\u5230\u8BE6\u60C5\u7684 id \u6240\u4EE5\uFF0C\u9ED8\u8BA4 id */
  detailIdIndex?: string;
}

interface CURDMethods {
  getActionRef: () => React.MutableRefObject<ActionType | undefined>;
}
`,paraId:5,tocIndex:8}]},27823:function(A,a,e){e.r(a),e.d(a,{texts:function(){return n}});var C=e(76646);const n=[{value:`interface EditorJavascriptProps {
  value: string;
  onChange: (value: string, event?: any) => void;
  readonly?: boolean;
}
`,paraId:0,tocIndex:1}]},81650:function(A,a,e){e.r(a),e.d(a,{texts:function(){return n}});var C=e(71448);const n=[{value:`interface EditorJSONProps {
  value: string;
  onChange: (value: string, event?: any) => void;
  readonly?: boolean;
}
`,paraId:0,tocIndex:1}]},68309:function(A,a,e){e.r(a),e.d(a,{texts:function(){return n}});var C=e(97116);const n=[{value:`interface EditorMarkdownProps {
  value: string;
}
`,paraId:0,tocIndex:1}]},16207:function(A,a,e){e.r(a),e.d(a,{texts:function(){return n}});var C=e(57016);const n=[{value:"\u5BF9 ProTable \u505A\u6269\u5C55\u4EE5\u6EE1\u8DB3\u5B9E\u9645\u4F7F\u7528\u60C5\u51B5",paraId:0,tocIndex:0},{value:"\u9ED8\u8BA4\u641C\u7D22\u5173\u95ED\uFF0C\u9700\u8981\u518D\u6253\u5F00 ",paraId:1,tocIndex:0},{value:"search: true",paraId:1,tocIndex:0},{value:"\u589E\u52A0 hmRequest\uFF0C\u4EE5\u9002\u914D huomu \u7684\u8BF7\u6C42\u3002",paraId:1,tocIndex:0},{value:"\u66F4\u591A\u7ED3\u5408 CURD \u4F7F\u7528\u3002",paraId:2,tocIndex:0}]},81541:function(A,a,e){e.r(a),e.d(a,{texts:function(){return n}});var C=e(63207);const n=[{value:"\u81EA\u5B9A\u4E49 valueType",paraId:0,tocIndex:0},{value:`import { customValueTypeMap } from '@huomu/core';
import { ProConfigProvider } from '@ant-design/pro-components';

const Demo = () => (
  <ProConfigProvider valueTypeMap={customValueTypeMap}>
    <div>some</div>
  </ProConfigProvider>
);

export default Demo;
`,paraId:1,tocIndex:1},{value:`enum CustomValueTypeEnum {
  /** \u6E32\u67D3\u65F6\u95F4 + \u641C\u7D22\u65E5\u671F\u8303\u56F4 */
  CustomDateTimeAndDateRange = 'CustomDateTimeAndDateRange',
  /** \u6E32\u67D3\u65E5\u671F + \u641C\u7D22\u65E5\u671F\u8303\u56F4 */
  CustomDateAndDateRange = 'CustomDateAndDateRange',
}
`,paraId:2,tocIndex:2}]},73755:function(A,a,e){e.r(a),e.d(a,{texts:function(){return n}});var C=e(43797);const n=[{value:`// .eslintrc.js
module.exports = {
  extends: ['@huomu/eslint-config-base'],
};
`,paraId:0,tocIndex:0}]},88929:function(A,a,e){e.r(a),e.d(a,{texts:function(){return n}});var C=e(68889);const n=[{value:"pnpm i @huomu/huomu-scripts",paraId:0,tocIndex:0},{value:`program
  .command('build_api')
  .description('swagger \u6587\u6863\u751F\u6210 API \u65B9\u6CD5')
  .option('-i, --input <input>', 'package.json \u6240\u5728\u7684\u76EE\u5F55\uFF0C\u8BFB\u53D6 package.json \u4E2D\u7684 swaggerDocs \u5B57\u6BB5')
  .option('-o, --output <output>', '\u8F93\u51FA /api /swagger \u7684\u76EE\u5F55')
  .action(buildApi);

program
  .command('build_enum')
  .description('\u6839\u636E\u679A\u4E3E\u751F\u6210\u4EE3\u7801')
  .option('-i, --input <input>', 'enum \u914D\u7F6E\u6587\u4EF6')
  .option('-o, --output <output>', '\u8F93\u51FA /enum \u7684\u76EE\u5F55')
  .action(buildEnum);
`,paraId:1,tocIndex:0},{value:"\u751F\u6210\u8FD9\u6837\u7684\u4EE3\u7801",paraId:2,tocIndex:1},{value:"\u7ECF\u8FC7\u5904\u7406\u66B4\u6F0F api",paraId:3,tocIndex:1},{value:`import { Api as IotBaseApi } from './api/iot-base';
import { injectInterceptors } from './interceptors';

const iotBaseApi = new IotBaseApi({
  baseURL: '/iot-base',
});

injectInterceptors(iotBaseApi.instance);

export { iotBaseApi };
`,paraId:4,tocIndex:1},{value:"\u4E1A\u52A1\u4F7F\u7528",paraId:5,tocIndex:1},{value:`import { iotBaseApi } from '@lib/api';

iotBaseApi.thing.thingModelMainPageByParam({});
`,paraId:6,tocIndex:1},{value:"\u540E\u7AEF\u63A5\u53E3\u4F1A\u6709\u679A\u4E3E\uFF0C\u63D0\u73B0\u5728\u4EE3\u7801\u4E0A\u662F\u8054\u5408\u7C7B\u578B\u3002",paraId:7,tocIndex:2},{value:`  /** #\u53D1\u5E03\u72B6\u6001#ENUM#0:\u672A\u53D1\u5E03:NOT_RELEASE,2:\u53D1\u5E03\u6210\u529F:RELEASED# */
  releaseStatus?: 'NOT_RELEASE' | 'RELEASED';
`,paraId:8,tocIndex:2},{value:"\u6211\u4EEC\u7ECF\u5E38\u4F1A\u8FD9\u6837\u7684\u573A\u666F",paraId:9,tocIndex:2},{value:`// --- ReleaseStatus

export enum EnumReleaseStatus {
  NOT_RELEASE = 'NOT_RELEASE',
  RELEASED = 'RELEASED',
}

export const valueEnumReleaseStatus = {
  [EnumReleaseStatus.NOT_RELEASE]: {
    text: '\u672A\u53D1\u5E03',
    status: 'Default',
  },

  [EnumReleaseStatus.RELEASED]: {
    text: '\u5DF2\u53D1\u5E03',
    status: 'Success',
  },
};

export const listReleaseStatus = Object.keys(valueEnumReleaseStatus).map((key) => {
  const item = valueEnumReleaseStatus[key];

  return {
    value: key,
    label: item.text,
  };
});

export function TagReleaseStatus(props: { value?: EnumReleaseStatus | string }) {
  const item = props.value && valueEnumReleaseStatus[props.value];

  if (item) {
    return <Tag color={item.color}>{item.text}</Tag>;
  }

  return null;
}
`,paraId:10,tocIndex:2},{value:"\u4EBA\u5DE5\u5199\u592A\u6162\uFF0C\u53C8\u4E0D\u597D\u901A\u8FC7\u4EE3\u7801\u751F\u6210\uFF0C\u6240\u4EE5\u6574\u4E86\u4E2A\u811A\u672C\u3002\u811A\u672C\u9700\u8981\u914D\u7F6E enums.config.js\uFF0C\u5373\u53EF\u751F\u6210\u4E0A\u9762\u7684\u4EE3\u7801",paraId:11,tocIndex:2},{value:`const enums = {
  ReleaseStatus: {
    NOT_RELEASE: {
      text: '\u672A\u53D1\u5E03',
      status: 'Default',
      color: 'default',
    },
    RELEASED: {
      text: '\u5DF2\u53D1\u5E03',
      status: 'Success',
      color: 'success',
    },
  },
};
`,paraId:12,tocIndex:2}]},18905:function(A,a,e){e.r(a),e.d(a,{texts:function(){return n}});var C=e(93112);const n=[{value:`// .stylelintrc.js
module.exports = {
  extends: ['@huomu/style-lint'],
};
`,paraId:0,tocIndex:0}]},31725:function(A,a){a.Z=`import React, { useRef } from 'react';
import type { CURDProps } from '@huomu/core';
import { CURD } from '@huomu/core';
import { Button } from 'antd';
import { ProForm, ProFormSwitch, ProFormText } from '@ant-design/pro-components';
import {
  fakeRequest,
  fakeDeleteById,
  fakeAdd,
  fakeGetById,
  fakeUpdateById,
  fakeRequestCity,
  fakeRequestArea,
  levels,
  fakeRequestSchool,
} from './data';

const Normal = () => {
  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57(\u7701\u7565)',
      dataIndex: 'name',
      search: true,
      ellipsis: true,
    },
    {
      title: 'city',
      dataIndex: 'city',
    },
    {
      title: 'area',
      dataIndex: 'area',
    },
  ];

  return (
    <CURD
      actions={['create', 'read', 'delete', 'update']}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeRequest,
      }}
      deleteProps={{
        nameIndex: 'name',
        deleteById: fakeDeleteById,
      }}
      detailForm={(formProps) => (
        <>
          <ProFormText
            {...formProps}
            name="name"
            label="\u540D\u5B57"
            required
            rules={[{ required: true }]}
          />
        </>
      )}
      requestGetById={fakeGetById}
      requestAdd={fakeAdd}
      requestUpdateById={fakeUpdateById}
    />
  );
};

function ReadDetail() {
  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
      search: true,
    },
  ];

  return (
    <CURD
      actions={['read_detail']}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeRequest,
      }}
    />
  );
}

function Ref() {
  const formRef = useRef<any>();
  const [detailFormInstance] = ProForm.useForm();

  // @ts-ignore
  window._detailFormInstance = detailFormInstance;

  const name = ProForm.useWatch('name', formRef.current);
  const detailName = ProForm.useWatch('name', detailFormInstance);

  // \u4E0D\u77E5\u9053\u4E3A\u5565\u8FD9\u91CC name \u4E0D\u751F\u6548\uFF0C\u4F46\u662F\u9879\u76EE\u91CC\u662F\u751F\u6548\u7684\u3002\u5148\u5FFD\u7565
  console.log('useWatch', name, detailName);

  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
      search: true,
    },
  ];

  return (
    <CURD
      actions={['create', 'read', 'update']}
      hmTableProps={{
        formRef,
        hmColumns,
        hmRequest: fakeRequest,
      }}
      detailFormInstance={detailFormInstance}
      detailForm={(formProps) => (
        <>
          <ProFormText
            {...formProps}
            name="name"
            label="\u540D\u5B57"
            required
            rules={[{ required: true }]}
            initialValue={'default'}
          />
          <ProFormSwitch {...formProps} name="status" label="\u5F00\u542F" initialValue={false} />
        </>
      )}
      requestGetById={fakeGetById}
      requestAdd={fakeAdd}
      requestUpdateById={fakeUpdateById}
    />
  );
}

function ActionRef() {
  const ref = useRef<any>();

  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
      search: true,
    },
  ];

  return (
    <>
      <Button onClick={() => ref.current.getActionRef().current?.reload()}>reload</Button>
      <CURD
        ref={ref}
        actions={[]}
        hmTableProps={{
          hmColumns,
          hmRequest: fakeRequest,
        }}
      />
    </>
  );
}

function RemoteData() {
  const hmColumns: CURDProps['hmTableProps']['hmColumns'] = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
      search: true,
    },
    {
      title: '\u7B49\u7EA7(\u672C\u5730\u6570\u636E)',
      dataIndex: 'level',
      search: true,
      valueEnum: levels,
    },
    {
      title: 'city(\u8FDC\u7AEF\u6570\u636E)',
      dataIndex: 'city',
      search: true,
      request: async () => {
        const res = await fakeRequestCity();

        return (
          res.map((item) => ({
            label: item,
            value: item,
          })) || []
        );
      },
    },
    {
      title: 'area(\u8054\u52A8 city)',
      dataIndex: 'area',
      search: true,
      request: async (params) => {
        console.log('params', params);
        const res = await fakeRequestArea(params);

        return (
          res.map((item) => ({
            label: item,
            value: item,
          })) || []
        );
      },
      dependencies: ['city'],
    },
    {
      title: '\u5B66\u6821(\u8FDC\u7AEF\u6570\u636E label value)',
      dataIndex: 'school',
      search: true,
      valueType: 'select',
      request: () => fakeRequestSchool(),
    },
  ];

  return (
    <CURD
      actions={[]}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeRequest,
      }}
    />
  );
}

function NoSearch() {
  const ref = useRef<any>();

  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
    },
  ];

  return (
    <CURD
      ref={ref}
      actions={[]}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeRequest,
      }}
    />
  );
}

export { Normal, ReadDetail, Ref, ActionRef, RemoteData, NoSearch };
`}}]);
