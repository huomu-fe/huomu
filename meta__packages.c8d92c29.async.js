"use strict";(self.webpackChunkhuomu=self.webpackChunkhuomu||[]).push([[56],{7353:function(L,i,e){e.r(i),e.d(i,{demos:function(){return j}});var T=e(59496),t=e(39278),j={}},79674:function(L,i,e){e.r(i),e.d(i,{demos:function(){return p}});var T=e(90228),t=e.n(T),j=e(87999),c=e.n(j),x=e(59496),F=e(76517),p={"curd-demo-0":{component:x.memo(x.lazy(c()(t()().mark(function f(){var h,o;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return h=n.sent,o=h.Normal,n.abrupt("return",{default:o});case 5:case"end":return n.stop()}},f)})))),asset:{type:"BLOCK",id:"curd-demo-0",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { Normal } from './demo';

export default Normal;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var f=c()(t()().mark(function o(){var s,n=arguments;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(576).then(e.bind(e,47576));case 2:return a.abrupt("return",(s=a.sent).default.apply(s,n));case 3:case"end":return a.stop()}},o)}));function h(){return f.apply(this,arguments)}return h}()}},"curd-demo-1":{component:x.memo(x.lazy(c()(t()().mark(function f(){var h,o;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return h=n.sent,o=h.ReadDetail,n.abrupt("return",{default:o});case 5:case"end":return n.stop()}},f)})))),asset:{type:"BLOCK",id:"curd-demo-1",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { ReadDetail } from './demo';

export default ReadDetail;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var f=c()(t()().mark(function o(){var s,n=arguments;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(576).then(e.bind(e,47576));case 2:return a.abrupt("return",(s=a.sent).default.apply(s,n));case 3:case"end":return a.stop()}},o)}));function h(){return f.apply(this,arguments)}return h}()}},"curd-demo-2":{component:x.memo(x.lazy(c()(t()().mark(function f(){var h,o;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return h=n.sent,o=h.RemoteData,n.abrupt("return",{default:o});case 5:case"end":return n.stop()}},f)})))),asset:{type:"BLOCK",id:"curd-demo-2",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { RemoteData } from './demo';

export default RemoteData;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var f=c()(t()().mark(function o(){var s,n=arguments;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(576).then(e.bind(e,47576));case 2:return a.abrupt("return",(s=a.sent).default.apply(s,n));case 3:case"end":return a.stop()}},o)}));function h(){return f.apply(this,arguments)}return h}()}},"curd-demo-3":{component:x.memo(x.lazy(c()(t()().mark(function f(){var h,o;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return h=n.sent,o=h.Ref,n.abrupt("return",{default:o});case 5:case"end":return n.stop()}},f)})))),asset:{type:"BLOCK",id:"curd-demo-3",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { Ref } from './demo';

export default Ref;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var f=c()(t()().mark(function o(){var s,n=arguments;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(576).then(e.bind(e,47576));case 2:return a.abrupt("return",(s=a.sent).default.apply(s,n));case 3:case"end":return a.stop()}},o)}));function h(){return f.apply(this,arguments)}return h}()}},"curd-demo-4":{component:x.memo(x.lazy(c()(t()().mark(function f(){var h,o;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return h=n.sent,o=h.ActionRef,n.abrupt("return",{default:o});case 5:case"end":return n.stop()}},f)})))),asset:{type:"BLOCK",id:"curd-demo-4",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { ActionRef } from './demo';

export default ActionRef;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var f=c()(t()().mark(function o(){var s,n=arguments;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(576).then(e.bind(e,47576));case 2:return a.abrupt("return",(s=a.sent).default.apply(s,n));case 3:case"end":return a.stop()}},o)}));function h(){return f.apply(this,arguments)}return h}()}},"curd-demo-5":{component:x.memo(x.lazy(c()(t()().mark(function f(){var h,o;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return h=n.sent,o=h.NoSearch,n.abrupt("return",{default:o});case 5:case"end":return n.stop()}},f)})))),asset:{type:"BLOCK",id:"curd-demo-5",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { NoSearch } from './demo';

export default NoSearch;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var f=c()(t()().mark(function o(){var s,n=arguments;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(576).then(e.bind(e,47576));case 2:return a.abrupt("return",(s=a.sent).default.apply(s,n));case 3:case"end":return a.stop()}},o)}));function h(){return f.apply(this,arguments)}return h}()}},"curd-demo-6":{component:x.memo(x.lazy(c()(t()().mark(function f(){var h,o;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.resolve().then(e.bind(e,20321));case 2:return h=n.sent,o=h.CustomOperate,n.abrupt("return",{default:o});case 5:case"end":return n.stop()}},f)})))),asset:{type:"BLOCK",id:"curd-demo-6",refAtomIds:["curd"],dependencies:{"index.tsx":{type:"FILE",value:`import { CustomOperate } from './demo';

export default CustomOperate;`},"./demo.tsx":{type:"FILE",value:e(31725).Z}},entry:"index.tsx"},context:{"./demo.tsx":e(20321)},renderOpts:{compile:function(){var f=c()(t()().mark(function o(){var s,n=arguments;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(576).then(e.bind(e,47576));case 2:return a.abrupt("return",(s=a.sent).default.apply(s,n));case 3:case"end":return a.stop()}},o)}));function h(){return f.apply(this,arguments)}return h}()}}}},77723:function(L,i,e){e.r(i),e.d(i,{demos:function(){return h}});var T=e(90228),t=e.n(T),j=e(48305),c=e.n(j),x=e(87999),F=e.n(x),p=e(59496),f=e(76646),h={"editor_javascript-demo-0":{component:p.memo(p.lazy(F()(t()().mark(function o(){var s,n,d,a,R;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return R=function(){var B=n(`const name = 'world';
console.log('hello', name);
`),M=c()(B,2),N=M[0],W=M[1];return p.createElement("div",{style:{width:"500px",height:"500px"}},p.createElement(a,{value:N,onChange:W}))},r.next=3,Promise.resolve().then(e.t.bind(e,59496,19));case 3:return s=r.sent,n=s.useState,r.next=7,Promise.resolve().then(e.bind(e,33471));case 7:return d=r.sent,a=d.EditorJavascript,r.abrupt("return",{default:R});case 10:case"end":return r.stop()}},o)})))),asset:{type:"BLOCK",id:"editor_javascript-demo-0",refAtomIds:["editor_javascript"],dependencies:{"index.tsx":{type:"FILE",value:`import { useState } from 'react';
import { EditorJavascript } from '@huomu/core';

function Demo() {
  const [value, setValue] = useState(
    \`const name = 'world';
console.log('hello', name);
\`
  );

  return (
    <div style={{ width: '500px', height: '500px' }}>
      <EditorJavascript value={value} onChange={setValue} />
    </div>
  );
}

export default Demo;`},react:{type:"NPM",value:"17.0.2"},"@huomu/core":{type:"NPM",value:"1.5.0"}},entry:"index.tsx"},context:{react:e(59496),"@huomu/core":e(33471)},renderOpts:{compile:function(){var o=F()(t()().mark(function n(){var d,a=arguments;return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,e.e(576).then(e.bind(e,47576));case 2:return m.abrupt("return",(d=m.sent).default.apply(d,a));case 3:case"end":return m.stop()}},n)}));function s(){return o.apply(this,arguments)}return s}()}},"editor_javascript-demo-1":{component:p.memo(p.lazy(F()(t()().mark(function o(){var s,n,d,a,R;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return R=function(){var B=n(`const name = 'world';
console.log('hello', name);
`),M=c()(B,2),N=M[0],W=M[1];return p.createElement("div",{style:{width:"500px",height:"500px"}},p.createElement(a,{value:N,onChange:W,readonly:!0}))},r.next=3,Promise.resolve().then(e.t.bind(e,59496,19));case 3:return s=r.sent,n=s.useState,r.next=7,Promise.resolve().then(e.bind(e,33471));case 7:return d=r.sent,a=d.EditorJavascript,r.abrupt("return",{default:R});case 10:case"end":return r.stop()}},o)})))),asset:{type:"BLOCK",id:"editor_javascript-demo-1",refAtomIds:["editor_javascript"],dependencies:{"index.tsx":{type:"FILE",value:`import { useState } from 'react';
import { EditorJavascript } from '@huomu/core';

function Demo() {
  const [value, setValue] = useState(
    \`const name = 'world';
console.log('hello', name);
\`
  );

  return (
    <div style={{ width: '500px', height: '500px' }}>
      <EditorJavascript value={value} onChange={setValue} readonly />
    </div>
  );
}

export default Demo;`},react:{type:"NPM",value:"17.0.2"},"@huomu/core":{type:"NPM",value:"1.5.0"}},entry:"index.tsx"},context:{react:e(59496),"@huomu/core":e(33471)},renderOpts:{compile:function(){var o=F()(t()().mark(function n(){var d,a=arguments;return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,e.e(576).then(e.bind(e,47576));case 2:return m.abrupt("return",(d=m.sent).default.apply(d,a));case 3:case"end":return m.stop()}},n)}));function s(){return o.apply(this,arguments)}return s}()}}}},47585:function(L,i,e){e.r(i),e.d(i,{demos:function(){return h}});var T=e(90228),t=e.n(T),j=e(48305),c=e.n(j),x=e(87999),F=e.n(x),p=e(59496),f=e(71448),h={"editor_json-demo-0":{component:p.memo(p.lazy(F()(t()().mark(function o(){var s,n,d,a,R;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return R=function(){var B=n(JSON.stringify({name:"world"},null,2)),M=c()(B,2),N=M[0],W=M[1];return p.createElement("div",{style:{width:"500px",height:"500px"}},p.createElement(a,{value:N,onChange:W}))},r.next=3,Promise.resolve().then(e.t.bind(e,59496,19));case 3:return s=r.sent,n=s.useState,r.next=7,Promise.resolve().then(e.bind(e,33471));case 7:return d=r.sent,a=d.EditorJSON,r.abrupt("return",{default:R});case 10:case"end":return r.stop()}},o)})))),asset:{type:"BLOCK",id:"editor_json-demo-0",refAtomIds:["editor_json"],dependencies:{"index.tsx":{type:"FILE",value:`import { useState } from 'react';
import { EditorJSON } from '@huomu/core';

function Demo() {
  const [value, setValue] = useState(
    JSON.stringify(
      {
        name: 'world',
      },
      null,
      2
    )
  );

  return (
    <div style={{ width: '500px', height: '500px' }}>
      <EditorJSON value={value} onChange={setValue} />
    </div>
  );
}

export default Demo;`},react:{type:"NPM",value:"17.0.2"},"@huomu/core":{type:"NPM",value:"1.5.0"}},entry:"index.tsx"},context:{react:e(59496),"@huomu/core":e(33471)},renderOpts:{compile:function(){var o=F()(t()().mark(function n(){var d,a=arguments;return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,e.e(576).then(e.bind(e,47576));case 2:return m.abrupt("return",(d=m.sent).default.apply(d,a));case 3:case"end":return m.stop()}},n)}));function s(){return o.apply(this,arguments)}return s}()}},"editor_json-demo-1":{component:p.memo(p.lazy(F()(t()().mark(function o(){var s,n,d,a,R;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return R=function(){var B=n(JSON.stringify({name:"world"},null,2)),M=c()(B,2),N=M[0],W=M[1];return p.createElement("div",{style:{width:"500px",height:"500px"}},p.createElement(a,{value:N,onChange:W,readonly:!0}))},r.next=3,Promise.resolve().then(e.t.bind(e,59496,19));case 3:return s=r.sent,n=s.useState,r.next=7,Promise.resolve().then(e.bind(e,33471));case 7:return d=r.sent,a=d.EditorJSON,r.abrupt("return",{default:R});case 10:case"end":return r.stop()}},o)})))),asset:{type:"BLOCK",id:"editor_json-demo-1",refAtomIds:["editor_json"],dependencies:{"index.tsx":{type:"FILE",value:`import { useState } from 'react';
import { EditorJSON } from '@huomu/core';

function Demo() {
  const [value, setValue] = useState(
    JSON.stringify(
      {
        name: 'world',
      },
      null,
      2
    )
  );

  return (
    <div style={{ width: '500px', height: '500px' }}>
      <EditorJSON value={value} onChange={setValue} readonly />
    </div>
  );
}

export default Demo;`},react:{type:"NPM",value:"17.0.2"},"@huomu/core":{type:"NPM",value:"1.5.0"}},entry:"index.tsx"},context:{react:e(59496),"@huomu/core":e(33471)},renderOpts:{compile:function(){var o=F()(t()().mark(function n(){var d,a=arguments;return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,e.e(576).then(e.bind(e,47576));case 2:return m.abrupt("return",(d=m.sent).default.apply(d,a));case 3:case"end":return m.stop()}},n)}));function s(){return o.apply(this,arguments)}return s}()}},"editor_json-demo-2":{component:p.memo(p.lazy(F()(t()().mark(function o(){var s,n,d,a,R;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return R=function(){var B=n(JSON.stringify({name:"world"},null,2)),M=c()(B,2),N=M[0],W=M[1];return p.createElement("div",{style:{width:"500px",height:"500px"}},p.createElement(a,{value:N,onChange:W,mode:"tree",readonly:!0}))},r.next=3,Promise.resolve().then(e.t.bind(e,59496,19));case 3:return s=r.sent,n=s.useState,r.next=7,Promise.resolve().then(e.bind(e,33471));case 7:return d=r.sent,a=d.EditorJSON,r.abrupt("return",{default:R});case 10:case"end":return r.stop()}},o)})))),asset:{type:"BLOCK",id:"editor_json-demo-2",refAtomIds:["editor_json"],dependencies:{"index.tsx":{type:"FILE",value:`import { useState } from 'react';
import { EditorJSON } from '@huomu/core';

function Demo() {
  const [value, setValue] = useState(
    JSON.stringify(
      {
        name: 'world',
      },
      null,
      2
    )
  );

  return (
    <div style={{ width: '500px', height: '500px' }}>
      <EditorJSON value={value} onChange={setValue} mode="tree" readonly />
    </div>
  );
}

export default Demo;`},react:{type:"NPM",value:"17.0.2"},"@huomu/core":{type:"NPM",value:"1.5.0"}},entry:"index.tsx"},context:{react:e(59496),"@huomu/core":e(33471)},renderOpts:{compile:function(){var o=F()(t()().mark(function n(){var d,a=arguments;return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,e.e(576).then(e.bind(e,47576));case 2:return m.abrupt("return",(d=m.sent).default.apply(d,a));case 3:case"end":return m.stop()}},n)}));function s(){return o.apply(this,arguments)}return s}()}},"editor_json-demo-3":{component:p.memo(p.lazy(F()(t()().mark(function o(){var s,n,d,a,R;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return R=function(){var B=n(JSON.stringify({name:"world"},null,2)),M=c()(B,2),N=M[0],W=M[1];return p.createElement("div",{style:{width:"500px",height:"500px"}},p.createElement(a,{value:N,onChange:W,readonly:!0,mode:"tree",mainMenuBar:!1}))},r.next=3,Promise.resolve().then(e.t.bind(e,59496,19));case 3:return s=r.sent,n=s.useState,r.next=7,Promise.resolve().then(e.bind(e,33471));case 7:return d=r.sent,a=d.EditorJSON,r.abrupt("return",{default:R});case 10:case"end":return r.stop()}},o)})))),asset:{type:"BLOCK",id:"editor_json-demo-3",refAtomIds:["editor_json"],dependencies:{"index.tsx":{type:"FILE",value:`import { useState } from 'react';
import { EditorJSON } from '@huomu/core';

function Demo() {
  const [value, setValue] = useState(
    JSON.stringify(
      {
        name: 'world',
      },
      null,
      2
    )
  );

  return (
    <div style={{ width: '500px', height: '500px' }}>
      <EditorJSON value={value} onChange={setValue} readonly mode="tree" mainMenuBar={false} />
    </div>
  );
}

export default Demo;`},react:{type:"NPM",value:"17.0.2"},"@huomu/core":{type:"NPM",value:"1.5.0"}},entry:"index.tsx"},context:{react:e(59496),"@huomu/core":e(33471)},renderOpts:{compile:function(){var o=F()(t()().mark(function n(){var d,a=arguments;return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,e.e(576).then(e.bind(e,47576));case 2:return m.abrupt("return",(d=m.sent).default.apply(d,a));case 3:case"end":return m.stop()}},n)}));function s(){return o.apply(this,arguments)}return s}()}}}},25626:function(L,i,e){e.r(i),e.d(i,{demos:function(){return h}});var T=e(90228),t=e.n(T),j=e(48305),c=e.n(j),x=e(87999),F=e.n(x),p=e(59496),f=e(97116),h={"editor_markdown-demo-0":{component:p.memo(p.lazy(F()(t()().mark(function o(){var s,n,d,a,R;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return R=function(){var B=n(`# hello

world
`),M=c()(B,1),N=M[0];return p.createElement("div",{style:{width:"500px",height:"500px"}},p.createElement(a,{value:N}))},r.next=3,Promise.resolve().then(e.t.bind(e,59496,19));case 3:return s=r.sent,n=s.useState,r.next=7,Promise.resolve().then(e.bind(e,33471));case 7:return d=r.sent,a=d.EditorMarkdown,r.abrupt("return",{default:R});case 10:case"end":return r.stop()}},o)})))),asset:{type:"BLOCK",id:"editor_markdown-demo-0",refAtomIds:["editor_markdown"],dependencies:{"index.tsx":{type:"FILE",value:`import { useState } from 'react';
import { EditorMarkdown } from '@huomu/core';

function Demo() {
  const [value] = useState(
    \`# hello

world
\`
  );

  return (
    <div style={{ width: '500px', height: '500px' }}>
      <EditorMarkdown value={value} />
    </div>
  );
}

export default Demo;`},react:{type:"NPM",value:"17.0.2"},"@huomu/core":{type:"NPM",value:"1.5.0"}},entry:"index.tsx"},context:{react:e(59496),"@huomu/core":e(33471)},renderOpts:{compile:function(){var o=F()(t()().mark(function n(){var d,a=arguments;return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,e.e(576).then(e.bind(e,47576));case 2:return m.abrupt("return",(d=m.sent).default.apply(d,a));case 3:case"end":return m.stop()}},n)}));function s(){return o.apply(this,arguments)}return s}()}}}},63931:function(L,i,e){e.r(i),e.d(i,{demos:function(){return j}});var T=e(59496),t=e(57016),j={}},69059:function(L,i,e){e.r(i),e.d(i,{demos:function(){return p}});var T=e(90228),t=e.n(T),j=e(87999),c=e.n(j),x=e(59496),F=e(63207),p={"value_type_map-demo-0":{component:x.memo(x.lazy(c()(t()().mark(function f(){var h,o,s,n,d,a,R,m,r,V,B,M,N,W;return t()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return M=function(){return M=c()(t()().mark(function X(){var q;return t()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return q=m(5).map(function(de){return{id:"".concat(de),timeStr:"2024-10-01 10:00:00",timeNumber:+V("2024-10-01 10:00:00"),dateStr:"2024-10-01",dateNumber:+V("2024-10-01"),jsonText:JSON.stringify({name:"world"})}}),z.abrupt("return",Promise.resolve({data:{data:q,success:!0,totalSize:100}}));case 2:case"end":return z.stop()}},X)})),M.apply(this,arguments)},B=function(){return M.apply(this,arguments)},S.next=4,Promise.resolve().then(e.bind(e,33471));case 4:return h=S.sent,o=h.CURD,s=h.customValueTypeMap,n=h.CustomValueTypeEnum,S.next=10,Promise.resolve().then(e.bind(e,73975));case 10:return d=S.sent,a=d.ProConfigProvider,S.next=14,Promise.resolve().then(e.bind(e,15337));case 14:return R=S.sent,m=R.range,S.next=18,Promise.resolve().then(e.t.bind(e,28026,23));case 18:return r=S.sent,V=r.default,N=function(){var X=[{title:"id",dataIndex:"id"},{title:"\u65F6\u95F4 str",dataIndex:"timeStr",valueType:n.CustomDateTimeAndDateRange,search:!0},{title:"\u65F6\u95F4 number",dataIndex:"timeNumber",valueType:n.CustomDateTimeAndDateRange,search:!0},{title:"\u65E5\u671F str",dataIndex:"dateStr",valueType:n.CustomDateAndDateRange,search:!0},{title:"\u65E5\u671F number",dataIndex:"dateNumber",valueType:n.CustomDateAndDateRange,search:!0},{title:"json",dataIndex:"jsonText",valueType:n.CustomJSON}];return x.createElement(o,{actions:[],hmTableProps:{hmColumns:X,hmRequest:B}})},W=function(){return x.createElement(a,{valueTypeMap:s},x.createElement(N,null))},S.abrupt("return",{default:W});case 23:case"end":return S.stop()}},f)})))),asset:{type:"BLOCK",id:"value_type_map-demo-0",refAtomIds:["value_type_map"],dependencies:{"index.tsx":{type:"FILE",value:`import { CURD, customValueTypeMap, CustomValueTypeEnum } from '@huomu/core';
import { ProConfigProvider } from '@ant-design/pro-components';
import { range } from 'lodash-es';
import dayjs from 'dayjs';

async function fakeHMRequest() {
  const data = range(5).map((item) => ({
    id: \`\${item}\`,
    timeStr: \`2024-10-01 10:00:00\`,
    timeNumber: +dayjs('2024-10-01 10:00:00'),
    dateStr: \`2024-10-01\`,
    dateNumber: +dayjs('2024-10-01'),
    jsonText: JSON.stringify({ name: 'world' }),
  }));

  return Promise.resolve({
    data: {
      data,
      success: true,
      totalSize: 100,
    },
  }) as Promise<any>;
}

const Table = () => {
  const hmColumns: any[] = [
    {
      title: 'id',
      dataIndex: 'id',
    },
    {
      title: '\u65F6\u95F4 str',
      dataIndex: 'timeStr',
      valueType: CustomValueTypeEnum.CustomDateTimeAndDateRange,
      search: true,
    },
    {
      title: '\u65F6\u95F4 number',
      dataIndex: 'timeNumber',
      valueType: CustomValueTypeEnum.CustomDateTimeAndDateRange,
      search: true,
    },
    {
      title: '\u65E5\u671F str',
      dataIndex: 'dateStr',
      valueType: CustomValueTypeEnum.CustomDateAndDateRange,
      search: true,
    },
    {
      title: '\u65E5\u671F number',
      dataIndex: 'dateNumber',
      valueType: CustomValueTypeEnum.CustomDateAndDateRange,
      search: true,
    },
    {
      title: 'json',
      dataIndex: 'jsonText',
      valueType: CustomValueTypeEnum.CustomJSON,
    },
  ];

  return (
    <CURD
      actions={[]}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeHMRequest,
      }}
    />
  );
};

const Demo = () => (
  <ProConfigProvider valueTypeMap={customValueTypeMap}>
    <Table />
  </ProConfigProvider>
);

export default Demo;`},"@huomu/core":{type:"NPM",value:"1.5.0"},"@ant-design/pro-components":{type:"NPM",value:"2.7.15"},"lodash-es":{type:"NPM",value:"4.17.21"},dayjs:{type:"NPM",value:"1.11.12"}},entry:"index.tsx"},context:{"@huomu/core":e(33471),"@ant-design/pro-components":e(73975),"lodash-es":e(15337),dayjs:e(28026)},renderOpts:{compile:function(){var f=c()(t()().mark(function o(){var s,n=arguments;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(576).then(e.bind(e,47576));case 2:return a.abrupt("return",(s=a.sent).default.apply(s,n));case 3:case"end":return a.stop()}},o)}));function h(){return f.apply(this,arguments)}return h}()}},"value_type_map-demo-1":{component:x.memo(x.lazy(c()(t()().mark(function f(){var h,o,s;return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return s=function(){return x.createElement(x.Fragment,null,o.renderDetailFormItem({name:"world"}))},d.next=3,Promise.resolve().then(e.bind(e,33471));case 3:return h=d.sent,o=h.jsonRender,d.abrupt("return",{default:s});case 6:case"end":return d.stop()}},f)})))),asset:{type:"BLOCK",id:"value_type_map-demo-1",refAtomIds:["value_type_map"],dependencies:{"index.tsx":{type:"FILE",value:`import { jsonRender } from '@huomu/core';

function Demo() {
  return <>{jsonRender.renderDetailFormItem({ name: 'world' })}</>;
}

export default Demo;`},"@huomu/core":{type:"NPM",value:"1.5.0"}},entry:"index.tsx"},context:{"@huomu/core":e(33471)},renderOpts:{compile:function(){var f=c()(t()().mark(function o(){var s,n=arguments;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(576).then(e.bind(e,47576));case 2:return a.abrupt("return",(s=a.sent).default.apply(s,n));case 3:case"end":return a.stop()}},o)}));function h(){return f.apply(this,arguments)}return h}()}}}},99512:function(L,i,e){e.r(i),e.d(i,{demos:function(){return j}});var T=e(59496),t=e(43797),j={}},25983:function(L,i,e){e.r(i),e.d(i,{demos:function(){return j}});var T=e(59496),t=e(68889),j={}},37209:function(L,i,e){e.r(i),e.d(i,{demos:function(){return j}});var T=e(59496),t=e(93112),j={}},20321:function(L,i,e){e.r(i),e.d(i,{ActionRef:function(){return Te},CustomOperate:function(){return ge},NoSearch:function(){return Ae},Normal:function(){return je},ReadDetail:function(){return Fe},Ref:function(){return Ue},RemoteData:function(){return Me}});var T=e(90228),t=e.n(T),j=e(87999),c=e.n(j),x=e(48305),F=e.n(x),p=e(26068),f=e.n(p),h=e(59496),o=e(33471),s=e(21941),n=e(68908),d=e(53992),a=e(32282),R=e(62802),m={\u5E7F\u5DDE:["\u767D\u4E91","\u9EC4\u57D4","\u589E\u57CE"],\u6DF1\u5733:["\u798F\u7530","\u5357\u5C71","\u5B9D\u5B89"]},r={HIGH:{text:"\u9AD8"},MEDIUM:{text:"\u4E2D"},LOW:{text:"\u4F4E"}},V=[{value:"0",label:"\u7B2C\u4E00\u5C0F\u5B66"},{value:"1",label:"\u7B2C\u4E8C\u5C0F\u5B66"},{value:"2",label:"\u7B2C\u4E09\u5C0F\u5B66"}];function B(E){return Math.floor(Math.random()*E)}function M(){return Object.keys(m)[B(Object.keys(m).length+1)]}function N(E){if(E.city)return E.city&&m[E.city][B(m[E.city].length+1)]}function W(){return Object.keys(r)[B(Object.keys(r).length+1)]}function ie(E){return(0,R.Z)(E).map(function(P){var $=M(),I=N({city:$});return{id:"".concat(P),name:"\u8FD9\u662F\u540D\u5B57\u8FD9\u662F\u540D\u5B57 ".concat(P),city:$,area:I,level:W(),status:B(2)===1,school:""+B(V.length)}})}var S=ie(21);function Z(E){return X.apply(this,arguments)}function X(){return X=c()(t()().mark(function E(P){return t()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return console.log("fakeHMRequest",P),I.abrupt("return",new Promise(function(J){setTimeout(function(){J({data:{data:S,success:!0,totalSize:S.length}})},1e3)}));case 2:case"end":return I.stop()}},E)})),X.apply(this,arguments)}function q(E){return se.apply(this,arguments)}function se(){return se=c()(t()().mark(function E(P){return t()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return console.log("fakeHMDeleteById",P),S=S.filter(function(J){return J.id!==P.id}),I.abrupt("return",Promise.resolve({}));case 3:case"end":return I.stop()}},E)})),se.apply(this,arguments)}function z(E){return de.apply(this,arguments)}function de(){return de=c()(t()().mark(function E(P){return t()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return console.log("fakeHMGetById",P),I.abrupt("return",new Promise(function(J){setTimeout(function(){J({data:{data:S.find(function(_){return _.id===P.id})}})},1e3)}));case 2:case"end":return I.stop()}},E)})),de.apply(this,arguments)}function ee(E){return ce.apply(this,arguments)}function ce(){return ce=c()(t()().mark(function E(P){return t()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return console.log("fakeHMAdd",P),S.push(f()({id:S.length+1},P)),I.abrupt("return",Promise.resolve({}));case 3:case"end":return I.stop()}},E)})),ce.apply(this,arguments)}function pe(E){return he.apply(this,arguments)}function he(){return he=c()(t()().mark(function E(P){return t()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return console.log("fakeHMUpdateById",P),S=S.map(function(J){return J.id===P.id?f()(f()({},J),P):J}),I.abrupt("return",Promise.resolve({}));case 3:case"end":return I.stop()}},E)})),he.apply(this,arguments)}function k(){return Promise.resolve(Object.keys(m))}function xe(E){return E!=null&&E.city?Promise.resolve(m[E.city]):Promise.resolve(Object.values(m).reduce(function(P,$){return P.concat($)},[]))}function Oe(){return Promise.resolve(V)}var U=e(4637),je=function(){var P=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57(\u7701\u7565)",dataIndex:"name",search:!0,ellipsis:!0},{title:"city",dataIndex:"city"},{title:"area",dataIndex:"area"}];return(0,U.jsx)(o.CURD,{actions:["create","read","delete","update"],hmTableProps:{hmColumns:P,hmRequest:Z},deleteById:q,deleteProps:{nameIndex:"name"},detailForm:function(I){return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(n.Z,f()(f()({},I),{},{name:"name",label:"\u540D\u5B57",required:!0,rules:[{required:!0}]}))})},requestGetById:z,requestAdd:ee,requestUpdateById:pe})};function Fe(){var E=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57",dataIndex:"name",search:!0}];return(0,U.jsx)(o.CURD,{actions:["read_detail"],hmTableProps:{hmColumns:E,hmRequest:Z}})}function Ue(){var E=(0,h.useRef)(),P=d.A.useForm(),$=F()(P,1),I=$[0];window._detailFormInstance=I;var J=d.A.useWatch("name",E.current),_=d.A.useWatch("name",I);console.log("useWatch",J,_);var Y=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57",dataIndex:"name",search:!0}];return(0,U.jsx)(o.CURD,{actions:["create","read","update"],hmTableProps:{formRef:E,hmColumns:Y,hmRequest:Z},detailFormInstance:I,detailForm:function(le){return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(n.Z,f()(f()({},le),{},{name:"name",label:"\u540D\u5B57",required:!0,rules:[{required:!0}],initialValue:"default"})),(0,U.jsx)(a.Z,f()(f()({},le),{},{name:"status",label:"\u5F00\u542F",initialValue:!1}))]})},requestGetById:z,requestAdd:ee,requestUpdateById:pe})}function Te(){var E=(0,h.useRef)(),P=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57",dataIndex:"name",search:!0}];return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(s.ZP,{onClick:function(){var I;return(I=E.current.getActionRef().current)===null||I===void 0?void 0:I.reload()},children:"reload"}),(0,U.jsx)(o.CURD,{ref:E,actions:[],hmTableProps:{hmColumns:P,hmRequest:Z}})]})}function Me(){var E=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57",dataIndex:"name",search:!0},{title:"\u7B49\u7EA7(\u672C\u5730\u6570\u636E)",dataIndex:"level",search:!0,valueEnum:r},{title:"city(\u8FDC\u7AEF\u6570\u636E)",dataIndex:"city",search:!0,request:function(){var P=c()(t()().mark(function I(){var J;return t()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,k();case 2:return J=Y.sent,Y.abrupt("return",J.map(function(w){return{label:w,value:w}})||[]);case 4:case"end":return Y.stop()}},I)}));function $(){return P.apply(this,arguments)}return $}()},{title:"area(\u8054\u52A8 city)",dataIndex:"area",search:!0,request:function(){var P=c()(t()().mark(function I(J){var _;return t()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return console.log("params",J),w.next=3,xe(J);case 3:return _=w.sent,w.abrupt("return",_.map(function(le){return{label:le,value:le}})||[]);case 5:case"end":return w.stop()}},I)}));function $(I){return P.apply(this,arguments)}return $}(),dependencies:["city"]},{title:"\u5B66\u6821(\u8FDC\u7AEF\u6570\u636E label value)",dataIndex:"school",search:!0,valueType:"select",request:function(){return Oe()}}];return(0,U.jsx)(o.CURD,{actions:[],hmTableProps:{hmColumns:E,hmRequest:Z}})}function Ae(){var E=(0,h.useRef)(),P=[{title:"id",dataIndex:"id"},{title:"\u540D\u5B57",dataIndex:"name"}];return(0,U.jsx)(o.CURD,{ref:E,actions:[],hmTableProps:{hmColumns:P,hmRequest:Z}})}var ge=function(){var P=[{title:"id",dataIndex:"id",search:!0},{title:"\u540D\u5B57",dataIndex:"name",search:!0,ellipsis:!0}];return(0,U.jsx)(o.CURD,{actions:["create","read","delete","update"],hmTableProps:{hmColumns:P,hmRequest:Z},operateColumnProps:{width:230,moreOperator:function(){return(0,U.jsx)("div",{children:"custom"})}},readProps:{operateText:"\u67E5\u770B\u5566"},deleteById:q,deleteProps:{nameIndex:"name",operateText:"\u5220\u9664\u5566"},detailForm:function(I){return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(n.Z,f()(f()({},I),{},{name:"name",label:"\u540D\u5B57",required:!0,rules:[{required:!0}]}))})},requestGetById:z,requestAdd:ee,updateProps:{operateText:"\u66F4\u65B0\u5566"},requestUpdateById:pe})}},33471:function(L,i,e){e.r(i),e.d(i,{CURD:function(){return ce},CURDDetail:function(){return ee},CustomValueTypeEnum:function(){return ve},EditorJSON:function(){return ge},EditorJavascript:function(){return Me},EditorMarkdown:function(){return I},FileUpload:function(){return Y},HMDescriptions:function(){return Oe},HMTable:function(){return N},OperateDelete:function(){return Z},createStore:function(){return We},customValueTypeMap:function(){return _e},dateRender:function(){return fe},getTableScroll:function(){return W},jsonRender:function(){return Se},useDelete:function(){return S}});var T=e(15558),t=e.n(T),j=e(26068),c=e.n(j),x=e(73197),F=e(21941),p=e(59496),f=e(5791),h=e(33553),o=e(90228),s=e.n(o),n=e(67825),d=e.n(n),a=e(87999),R=e.n(a),m=e(19525),r=e(4637),V=["current","pageSize"],B=["hmRequest","request","hmColumns","columns","rowKey"];function M(u){return function(){var l=R()(s()().mark(function v(y){var g,D,C,O;return s()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return g=y.current,D=y.pageSize,C=d()(y,V),K.next=3,u(c()({page:g,pageSize:D},C));case 3:return O=K.sent,K.abrupt("return",{data:O.data.data,success:O.data.success,total:O.data.totalSize});case 5:case"end":return K.stop()}},v)}));return function(v){return l.apply(this,arguments)}}()}function N(u){var l=u.hmRequest,v=u.request,y=u.hmColumns,g=u.columns,D=u.rowKey,C=D===void 0?"id":D,O=d()(u,B),G=(0,p.useCallback)(function(b){return l?M(l)(b):v(b,{},{})},[l,v]),K=(0,p.useMemo)(function(){return y?y.map(function(b){return c()({search:!1},b)}):g},[g,y]);return(0,r.jsx)(m.Z,c()({cardBordered:!0,rowKey:C,pagination:c()({showSizeChanger:!0,showQuickJumper:!0},O.pagination),options:!1,request:G,columns:K},O))}function W(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:120,v={x:0,y:void 0};return u==null||u.forEach(function(y){y.hideInTable||(v.x+=Number(y.width)||l)}),v}var ie=e(90037);function S(u){var l=u.name,v=u.desc,y=u.onDelete,g=(0,p.useCallback)(function(){ie.Z.confirm({title:"\u786E\u8BA4\u5220\u9664 \u201C".concat(l,"\u201D \u5417\uFF1F"),content:v||"\u5220\u9664\u540E\u4E0D\u53EF\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onOk:function(){y()}})},[l,v,y]);return{doDelete:g}}function Z(u){var l=u.name,v=u.desc,y=u.onDelete,g=u.operateText,D=(0,p.useCallback)(function(){ie.Z.confirm({title:"\u786E\u8BA4\u5220\u9664 \u201C".concat(l,"\u201D \u5417\uFF1F"),content:v||"\u5220\u9664\u540E\u4E0D\u53EF\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onOk:function(){y()}})},[l,v,y]);return(0,r.jsx)("a",{style:{color:"red"},onClick:D,children:g||"\u5220\u9664"})}var X=e(48305),q=e.n(X),se=e(75379),z=e(53992),de=e(33417);function ee(u){var l=u.action,v=u.id,y=u.record,g=u.trigger,D=u.onSuccess,C=u.detailForm,O=u.requestGetById,G=u.requestGetByRecord,K=u.requestAdd,b=u.requestUpdateById,Pe=u.detailFormInstance,De=(0,p.useState)(!1),ye=q()(De,2),Ie=ye[0],Ee=ye[1],ne=z.A.useForm(Pe),Re=q()(ne,1),H=Re[0],te=(0,p.useCallback)(function(){var re=R()(s()().mark(function Q(ae){return s()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(A.prev=0,!(l==="create"&&K)){A.next=5;break}return A.next=4,K(ae);case 4:se.ZP.open({type:"success",content:"\u521B\u5EFA\u6210\u529F"});case 5:if(!(l==="update"&&b)){A.next=9;break}return A.next=8,b(c()(c()({},ae),{},{id:v}));case 8:se.ZP.open({type:"success",content:"\u66F4\u65B0\u6210\u529F"});case 9:return D==null||D(),A.abrupt("return",!0);case 13:A.prev=13,A.t0=A.catch(0),setTimeout(function(){throw A.t0},10);case 16:case"end":return A.stop()}},Q,null,[[0,13]])}));return function(Q){return re.apply(this,arguments)}}(),[l,K,b,D,v]),Ce=(0,p.useCallback)(function(re){if(!re){H==null||H.resetFields(),Ee(re);return}if(Ee(re),v){if(O)return O({id:v}).then(function(Q){H==null||H.setFieldsValue(Q.data.data)});if(G)return G(y).then(function(Q){H==null||H.setFieldsValue(Q.data.data)})}},[H,v,O,G,y]),me=(0,p.useMemo)(function(){return!Ie||!C?null:C({readonly:l==="read"&&!!v},{action:l})},[Ie,C,l,v]);return(0,r.jsx)(de.a,{form:H,trigger:g,autoFocusFirstInput:!0,onFinish:te,onOpenChange:Ce,layout:"vertical",readonly:l==="read"&&!!v,drawerProps:{destroyOnClose:!0},children:me})}var ce=(0,p.forwardRef)(function(l,v){var y=l.actions,g=l.hmTableProps,D=l.createButton,C=l.operateColumnProps,O=l.readProps,G=l.deleteById,K=l.deleteByRecord,b=l.deleteProps,Pe=l.detailIdIndex,De=l.detailForm,ye=l.requestGetById,Ie=l.requestGetByRecord,Ee=l.requestAdd,ne=l.updateProps,Re=l.requestUpdateById,H=l.detailFormInstance,te=(0,p.useRef)(),Ce=(0,f.TH)();(0,p.useImperativeHandle)(v,function(){return{getActionRef:function(){return te}}},[te]);var me=(0,p.useMemo)(function(){return{detailForm:De,requestGetById:ye,requestGetByRecord:Ie,requestAdd:Ee,requestUpdateById:Re,detailFormInstance:H}},[De,Ee,ye,Ie,Re,H]),re=(0,p.useCallback)(function(A){return function(){if(G)return G({id:A.id,ids:[A.id]}).then(function(){var oe;(oe=te.current)===null||oe===void 0||oe.reload()});if(K)return K(A).then(function(){var oe;(oe=te.current)===null||oe===void 0||oe.reload()});throw new Error("\u6CA1\u6709\u4F20 deleteById or deleteByRecord")}},[G,K]),Q=(0,p.useCallback)(function(){var A;(A=te.current)===null||A===void 0||A.reload()},[]),ae=(0,p.useMemo)(function(){var A={title:"\u64CD\u4F5C",fixed:"right",width:(C==null?void 0:C.width)||120,render:function(qe,ue){return(0,r.jsxs)(x.Z,{children:[(C==null?void 0:C.moreOperator)&&C.moreOperator(ue),y.includes("read")&&(0,r.jsx)(ee,c()({id:ue.id,record:ue,onSuccess:Q,trigger:(0,r.jsx)("a",{children:(O==null?void 0:O.operateText)||"\u67E5\u770B"}),action:"read"},me)),y.includes("read_detail")&&(0,r.jsx)(h.rU,{to:"".concat(Ce.pathname,"/detail/").concat(ue[Pe||"id"]),children:(O==null?void 0:O.operateText)||"\u67E5\u770B"}),y.includes("update")&&(0,r.jsx)(ee,c()({id:ue.id,record:ue,onSuccess:Q,trigger:(0,r.jsx)("a",{children:(ne==null?void 0:ne.operateText)||"\u7F16\u8F91"}),action:"update"},me)),y.includes("delete")&&b&&(0,r.jsx)(Z,{name:ue[b.nameIndex],desc:b.desc,operateText:b.operateText,onDelete:re(ue)})]})}};return y.includes("read")||y.includes("read_detail")||y.includes("update")||y.includes("delete")?[].concat(t()(g.hmColumns||g.columns||[]),[A]):g.hmColumns},[y,O==null?void 0:O.operateText,b,Pe,me,re,Q,g.columns,g.hmColumns,Ce.pathname,C,ne==null?void 0:ne.operateText]),$e=!!(ae!=null&&ae.find(function(A){return A.search}));return(0,r.jsx)("div",{className:"",children:(0,r.jsx)(N,c()(c()({rowKey:"id"},g),{},{scroll:W(ae),actionRef:te,toolBarRender:function(){return[].concat(t()(g.toolBarRender?g.toolBarRender.apply(g,arguments):[]),[y.includes("create")&&(0,r.jsx)(ee,c()({onSuccess:Q,trigger:D||(0,r.jsx)(F.ZP,{type:"primary",children:"\u65B0\u5EFA"}),action:"create"},me))])},search:$e&&c()({layout:"vertical",defaultCollapsed:!1},g.search),hmColumns:ae}))})}),pe=e(66850),he=e(28026),k=e.n(he),xe=["hmItems","items"];function Oe(u){var l=u.hmItems,v=u.items,y=d()(u,xe),g=(0,p.useMemo)(function(){return l?l.map(function(D){var C=D.children;return D.children!==null&&D.children!==void 0&&(D.valueType==="date"?C=k()(C).format("YYYY-MM-DD"):D.valueType==="dateTime"?C=k()(C).format("YYYY-MM-DD HH:mm:ss"):D.valueType==="time"&&(C=k()(C).format("HH:mm:ss"))),c()(c()({},D),{},{children:C||"-"})}):v},[l,v]);return(0,r.jsx)(pe.Z,c()({items:g},y))}var U=e(34019),je=e(65273),Fe=e(59590),Ue=e(32479),Te={width:"100%",height:"100%"};function Me(u){var l=u.value,v=u.onChange,y=u.readonly;return(0,r.jsx)(U.ZP,{style:Te,mode:"javascript",theme:"monokai",value:l,onChange:v,readOnly:y,name:"javascript_editor",editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2}})}var Ae=e(26494);function ge(u){var l=u.value,v=u.onChange,y=u.readonly,g=u.mode,D=u.mainMenuBar,C=(0,p.useRef)(null),O=(0,p.useRef)(null),G=(0,p.useRef)(v);return(0,p.useEffect)(function(){var K;(K=O.current)===null||K===void 0||K.update({text:l||""})},[l]),(0,p.useEffect)(function(){O.current=new Ae.q9({target:C.current,props:{mainMenuBar:D,tabSize:2,mode:g||"text",readOnly:y,content:{text:l||""},onChange:function(b){G.current(b.text)}}})},[]),(0,r.jsx)("div",{ref:C,className:"h-full w-full"})}var E=e(70876),P=e(51709),$=["children","className","node"];function I(u){var l=u.value;return(0,r.jsx)(E.U,{unwrapDisallowed:!0,components:{code:function(y){var g=y.children,D=y.className,C=y.node,O=d()(y,$),G=/language-(\w+)/.exec(D||"");return G?(0,r.jsx)(P.Z,c()(c()({},O),{},{PreTag:"div",wrapLongLines:!0,children:String(g).replace(/\n$/,""),language:G[1].toLowerCase()})):(0,r.jsx)("code",c()(c()({},O),{},{className:D,children:g}))}},children:l||""})}var J=e(55860),_=e(12592);function Y(u){var l=u.value,v=u.onChange,y=function(C){return v==null||v(C),!1},g=function(){v==null||v(void 0)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(_.Z,{name:"file",maxCount:1,showUploadList:!0,fileList:l?[l]:void 0,beforeUpload:y,onRemove:g,children:(0,r.jsx)(F.ZP,{icon:(0,r.jsx)(J.Z,{}),children:"\u70B9\u51FB\u9009\u62E9\u6587\u4EF6"})})})}var w=e(64934),le=e(65124),Ke=function(l){return function(v,y,g){var D=(0,le.mW)(l);return D(v,y,g)}},Le=Ke,We=function(l){return l?(0,w.Ue)()(Le(l)):function(v){return(0,w.Ue)()(Le(v))}},Je=e(82092),Be=e.n(Je),be=e(85003),Ve=e(83873);function Ne(u){return(0,Ve.Z)(u)&&/^\d+$/.test(u)?k()(parseInt(u)):k()(u)}var Ge={dateTime:function(l){return l?(0,r.jsx)("div",{children:Ne(l).format("YYYY-MM-DD HH:mm:ss")}):(0,r.jsx)("div",{children:"-"})},date:function(l){return l?(0,r.jsx)("div",{children:Ne(l).format("YYYY-MM-DD")}):(0,r.jsx)("div",{children:"-"})}},Ze={dateRange:function(l,v){return(0,r.jsx)(be.Z,c()(c()({},v),{},{fieldProps:c()(c()({},v.fieldProps),{},{onChange:function(g){var D,C,O=g&&[k()(g[0]).startOf("day"),k()(g[1]).endOf("day")];(D=(C=v.fieldProps).onChange)===null||D===void 0||D.call(C,O)}})}))}},fe={renderMap:Ge,renderFormItemMap:Ze},He=e(93429),we=e(42379),ze=["readonly"];function Ye(u){return(0,r.jsx)("div",{style:{height:"300px"},children:(0,r.jsx)(ge,c()({},u))})}function Qe(u){var l=u.readonly,v=d()(u,ze);return(0,r.jsx)(z.A.Item,c()(c()({},v),{},{children:(0,r.jsx)(Ye,{readonly:l})}))}function Xe(u){var l=u;if(!u)return(0,r.jsx)("div",{children:"-"});try{l=JSON.stringify(JSON.parse(u),null,2)}catch(v){console.error(v,u)}return(0,r.jsx)(He.Z,{title:(0,r.jsx)("pre",{children:l}),placement:"top",children:(0,r.jsx)(we.Z.Text,{className:"block max-w-full overflow-hidden",children:u})})}function ke(u){return(0,r.jsx)(Qe,c()({},u))}var Se={render:Xe,renderFormItem:function(){return(0,r.jsx)(r.Fragment,{})},renderDetailFormItem:ke},ve=function(u){return u.CustomDateTimeAndDateRange="CustomDateTimeAndDateRange",u.CustomDateAndDateRange="CustomDateAndDateRange",u.CustomJSON="CustomJSON",u}(ve||{}),_e=Be()(Be()(Be()({},ve.CustomDateTimeAndDateRange,{render:fe.renderMap.dateTime,renderFormItem:fe.renderFormItemMap.dateRange}),ve.CustomDateAndDateRange,{render:fe.renderMap.date,renderFormItem:fe.renderFormItemMap.dateRange}),ve.CustomJSON,{render:Se.render,renderFormItem:Se.renderFormItem})},63537:function(L,i,e){e.r(i),e.d(i,{texts:function(){return t}});var T=e(39278);const t=[{value:`// commitlint.config.js
module.exports = { extends: ['@huomu/commit-lint'] };
`,paraId:0,tocIndex:0}]},33517:function(L,i,e){e.r(i),e.d(i,{texts:function(){return t}});var T=e(76517);const t=[{value:"\u9700\u8981\u975E\u5E38\u4E86\u89E3 ant pro-components ProForm ProTable",paraId:0,tocIndex:0},{value:"\u57FA\u4E8E ant pro-components \u901A\u7528\u7684 CURD \u7EC4\u4EF6\uFF0C\u540C\u65F6\u4FDD\u7559\u6269\u5C55\u6027\u3002",paraId:1,tocIndex:0},{value:"\u8C03\u6574 actions \u4E3A ",paraId:2,tocIndex:3},{value:"['read_detail']",paraId:2,tocIndex:3},{value:"\uFF0C\u70B9\u51FB<\u67E5\u770B>\u8DF3\u8F6C\u5230 ",paraId:2,tocIndex:3},{value:"xxx/detail/[id]",paraId:2,tocIndex:3},{value:"\uFF0C",paraId:2,tocIndex:3},{value:"\u83B7\u53D6 ProTable \u7684 actionRef",paraId:3,tocIndex:5},{value:"\u901A\u8FC7 ref \u4F60\u53EF\u4EE5\u505A\u66F4\u591A\u64CD\u4F5C",paraId:4,tocIndex:6},{value:`import type { ReactNode } from 'react';
import type { HMTableProps } from '../table';
import type { ProFormInstance, ActionType } from '@ant-design/pro-components';

/**
 * create \u521B\u5EFA
 * read \u67E5\u770B
 * read_detail \u8BE6\u60C5\u9875\u67E5\u770B
 * update \u7F16\u8F91
 * delete \u5220\u9664
 */
type CurdAction = 'create' | 'read' | 'read_detail' | 'update' | 'delete';

interface CURDProps {
  actions: CurdAction[];

  /** \u8868\u683C\u76F8\u5173 */
  hmTableProps: HMTableProps;

  /** \u65B0\u5EFA\u6309\u94AE\uFF0C\u9ED8\u8BA4\u65B0\u5EFA */
  createButton?: ReactNode;

  operateColumnProps?: {
    width?: number;
    /** \u6269\u5C55\u64CD\u4F5C\u533A\u57DF */
    moreOperator?: (record) => ReactNode;
  };

  readProps?: {
    /** \u6587\u672C */
    operateText?: string;
  };

  /** \u5220\u9664\u63A5\u53E3 */
  deleteById?: ({ id, ids }) => Promise<any>;
  deleteByRecord?: (record) => Promise<any>;
  /** \u5220\u9664\u76F8\u5173 */
  deleteProps?: {
    /** \u663E\u793A\u540D\u79F0\u7D22\u5F15 */
    nameIndex: string;
    /** \u5220\u9664\u786E\u8BA4\u63CF\u8FF0 */
    desc?: string;
    /** \u6587\u672C */
    operateText?: string;
  };

  /** \u5F39\u7A97\u8868\u5355 */
  detailForm?: (formProps: { readonly: boolean }, info: { action: CurdAction }) => ReactNode;
  /** detailForm \u7684 formRef */
  detailFormInstance?: ProFormInstance;

  /** \u65B0\u589E\u63A5\u53E3 */
  requestAdd?: (values) => Promise<any>;

  /** \u66F4\u65B0\u63A5\u53E3 */
  requestUpdateById?: (values) => Promise<any>;
  updateProps?: {
    /** \u6587\u672C */
    operateText?: string;
  };

  /** \u83B7\u53D6\u8BE6\u60C5\u63A5\u53E3 */
  requestGetById?: ({ id }) => Promise<any>;

  /** \u83B7\u53D6\u8BE6\u60C5\u63A5\u53E3\uFF0C\u975E id \u7684\u65F6\u5019 */
  requestGetByRecord?: (record) => Promise<any>;

  /** \u8DF3\u8F6C\u5230\u8BE6\u60C5\u7684 id \u6240\u4EE5\uFF0C\u9ED8\u8BA4 id */
  detailIdIndex?: string;
}

interface CURDMethods {
  getActionRef: () => React.MutableRefObject<ActionType | undefined>;
}
`,paraId:5,tocIndex:9}]},27823:function(L,i,e){e.r(i),e.d(i,{texts:function(){return t}});var T=e(76646);const t=[{value:`interface EditorJavascriptProps {
  value: string;
  onChange: (value: string, event?: any) => void;
  readonly?: boolean;
}
`,paraId:0,tocIndex:4}]},81650:function(L,i,e){e.r(i),e.d(i,{texts:function(){return t}});var T=e(71448);const t=[{value:`import type { JSONEditor } from 'vanilla-jsoneditor';

interface EditorJSONProps {
  value: string;
  onChange: (value: string, event?: any) => void;
  readonly?: boolean;
  mode?: JSONEditor['mode'];
}
`,paraId:0,tocIndex:6}]},68309:function(L,i,e){e.r(i),e.d(i,{texts:function(){return t}});var T=e(97116);const t=[{value:`interface EditorMarkdownProps {
  value: string;
}
`,paraId:0,tocIndex:3}]},16207:function(L,i,e){e.r(i),e.d(i,{texts:function(){return t}});var T=e(57016);const t=[{value:"\u5BF9 ProTable \u505A\u6269\u5C55\u4EE5\u6EE1\u8DB3\u5B9E\u9645\u4F7F\u7528\u60C5\u51B5",paraId:0,tocIndex:0},{value:"\u9ED8\u8BA4\u641C\u7D22\u5173\u95ED\uFF0C\u9700\u8981\u518D\u6253\u5F00 ",paraId:1,tocIndex:0},{value:"search: true",paraId:1,tocIndex:0},{value:"\u589E\u52A0 hmRequest\uFF0C\u4EE5\u9002\u914D huomu \u7684\u8BF7\u6C42\u3002",paraId:1,tocIndex:0},{value:"\u66F4\u591A\u7ED3\u5408 CURD \u4F7F\u7528\u3002",paraId:2,tocIndex:0}]},81541:function(L,i,e){e.r(i),e.d(i,{texts:function(){return t}});var T=e(63207);const t=[{value:"\u81EA\u5B9A\u4E49 valueType",paraId:0,tocIndex:0},{value:`import { customValueTypeMap } from '@huomu/core';
import { ProConfigProvider } from '@ant-design/pro-components';

const Demo = () => (
  <ProConfigProvider valueTypeMap={customValueTypeMap}>
    <div>some</div>
  </ProConfigProvider>
);

export default Demo;
`,paraId:1,tocIndex:1},{value:`enum CustomValueTypeEnum {
  /** \u6E32\u67D3\u65F6\u95F4 + \u641C\u7D22\u65E5\u671F\u8303\u56F4 */
  CustomDateTimeAndDateRange = 'CustomDateTimeAndDateRange',
  /** \u6E32\u67D3\u65E5\u671F + \u641C\u7D22\u65E5\u671F\u8303\u56F4 */
  CustomDateAndDateRange = 'CustomDateAndDateRange',
  /** JSON */
  CustomJSON = 'CustomJSON',
}
`,paraId:2,tocIndex:2},{value:"JSON",paraId:3,tocIndex:3}]},73755:function(L,i,e){e.r(i),e.d(i,{texts:function(){return t}});var T=e(43797);const t=[{value:`// .eslintrc.js
module.exports = {
  extends: ['@huomu/eslint-config-base'],
};
`,paraId:0,tocIndex:0}]},88929:function(L,i,e){e.r(i),e.d(i,{texts:function(){return t}});var T=e(68889);const t=[{value:"pnpm i @huomu/huomu-scripts",paraId:0,tocIndex:0},{value:`program
  .command('build_api')
  .description('swagger \u6587\u6863\u751F\u6210 API \u65B9\u6CD5')
  .option('-i, --input <input>', 'package.json \u6240\u5728\u7684\u76EE\u5F55\uFF0C\u8BFB\u53D6 package.json \u4E2D\u7684 swaggerDocs \u5B57\u6BB5')
  .option('-o, --output <output>', '\u8F93\u51FA /api /swagger \u7684\u76EE\u5F55')
  .action(buildApi);

program
  .command('build_enum')
  .description('\u6839\u636E\u679A\u4E3E\u751F\u6210\u4EE3\u7801')
  .option('-i, --input <input>', 'enum \u914D\u7F6E\u6587\u4EF6')
  .option('-o, --output <output>', '\u8F93\u51FA /enum \u7684\u76EE\u5F55')
  .action(buildEnum);
`,paraId:1,tocIndex:0},{value:"\u751F\u6210\u8FD9\u6837\u7684\u4EE3\u7801",paraId:2,tocIndex:1},{value:"\u7ECF\u8FC7\u5904\u7406\u66B4\u6F0F api",paraId:3,tocIndex:1},{value:`import { Api as IotBaseApi } from './api/iot-base';
import { injectInterceptors } from './interceptors';

const iotBaseApi = new IotBaseApi({
  baseURL: '/iot-base',
});

injectInterceptors(iotBaseApi.instance);

export { iotBaseApi };
`,paraId:4,tocIndex:1},{value:"\u4E1A\u52A1\u4F7F\u7528",paraId:5,tocIndex:1},{value:`import { iotBaseApi } from '@lib/api';

iotBaseApi.thing.thingModelMainPageByParam({});
`,paraId:6,tocIndex:1},{value:"\u540E\u7AEF\u63A5\u53E3\u4F1A\u6709\u679A\u4E3E\uFF0C\u63D0\u73B0\u5728\u4EE3\u7801\u4E0A\u662F\u8054\u5408\u7C7B\u578B\u3002",paraId:7,tocIndex:2},{value:`  /** #\u53D1\u5E03\u72B6\u6001#ENUM#0:\u672A\u53D1\u5E03:NOT_RELEASE,2:\u53D1\u5E03\u6210\u529F:RELEASED# */
  releaseStatus?: 'NOT_RELEASE' | 'RELEASED';
`,paraId:8,tocIndex:2},{value:"\u6211\u4EEC\u7ECF\u5E38\u4F1A\u8FD9\u6837\u7684\u573A\u666F",paraId:9,tocIndex:2},{value:`// --- ReleaseStatus

export enum EnumReleaseStatus {
  NOT_RELEASE = 'NOT_RELEASE',
  RELEASED = 'RELEASED',
}

export const valueEnumReleaseStatus = {
  [EnumReleaseStatus.NOT_RELEASE]: {
    text: '\u672A\u53D1\u5E03',
    status: 'Default',
  },

  [EnumReleaseStatus.RELEASED]: {
    text: '\u5DF2\u53D1\u5E03',
    status: 'Success',
  },
};

export const listReleaseStatus = Object.keys(valueEnumReleaseStatus).map((key) => {
  const item = valueEnumReleaseStatus[key];

  return {
    value: key,
    label: item.text,
  };
});

export function TagReleaseStatus(props: { value?: EnumReleaseStatus | string }) {
  const item = props.value && valueEnumReleaseStatus[props.value];

  if (item) {
    return <Tag color={item.color}>{item.text}</Tag>;
  }

  return null;
}
`,paraId:10,tocIndex:2},{value:"\u4EBA\u5DE5\u5199\u592A\u6162\uFF0C\u53C8\u4E0D\u597D\u901A\u8FC7\u4EE3\u7801\u751F\u6210\uFF0C\u6240\u4EE5\u6574\u4E86\u4E2A\u811A\u672C\u3002\u811A\u672C\u9700\u8981\u914D\u7F6E enums.config.js\uFF0C\u5373\u53EF\u751F\u6210\u4E0A\u9762\u7684\u4EE3\u7801",paraId:11,tocIndex:2},{value:`const enums = {
  ReleaseStatus: {
    NOT_RELEASE: {
      text: '\u672A\u53D1\u5E03',
      status: 'Default',
      color: 'default',
    },
    RELEASED: {
      text: '\u5DF2\u53D1\u5E03',
      status: 'Success',
      color: 'success',
    },
  },
};
`,paraId:12,tocIndex:2}]},18905:function(L,i,e){e.r(i),e.d(i,{texts:function(){return t}});var T=e(93112);const t=[{value:`// .stylelintrc.js
module.exports = {
  extends: ['@huomu/style-lint'],
};
`,paraId:0,tocIndex:0}]},31725:function(L,i){i.Z=`import React, { useRef } from 'react';
import type { CURDProps } from '@huomu/core';
import { CURD } from '@huomu/core';
import { Button } from 'antd';
import { ProForm, ProFormSwitch, ProFormText } from '@ant-design/pro-components';
import {
  fakeRequest,
  fakeDeleteById,
  fakeAdd,
  fakeGetById,
  fakeUpdateById,
  fakeRequestCity,
  fakeRequestArea,
  levels,
  fakeRequestSchool,
} from './data';

const Normal = () => {
  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57(\u7701\u7565)',
      dataIndex: 'name',
      search: true,
      ellipsis: true,
    },
    {
      title: 'city',
      dataIndex: 'city',
    },
    {
      title: 'area',
      dataIndex: 'area',
    },
  ];

  return (
    <CURD
      actions={['create', 'read', 'delete', 'update']}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeRequest,
      }}
      deleteById={fakeDeleteById}
      deleteProps={{
        nameIndex: 'name',
      }}
      detailForm={(formProps) => (
        <>
          <ProFormText
            {...formProps}
            name="name"
            label="\u540D\u5B57"
            required
            rules={[{ required: true }]}
          />
        </>
      )}
      requestGetById={fakeGetById}
      requestAdd={fakeAdd}
      requestUpdateById={fakeUpdateById}
    />
  );
};

function ReadDetail() {
  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
      search: true,
    },
  ];

  return (
    <CURD
      actions={['read_detail']}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeRequest,
      }}
    />
  );
}

function Ref() {
  const formRef = useRef<any>();
  const [detailFormInstance] = ProForm.useForm();

  // @ts-ignore
  window._detailFormInstance = detailFormInstance;

  const name = ProForm.useWatch('name', formRef.current);
  const detailName = ProForm.useWatch('name', detailFormInstance);

  // \u4E0D\u77E5\u9053\u4E3A\u5565\u8FD9\u91CC name \u4E0D\u751F\u6548\uFF0C\u4F46\u662F\u9879\u76EE\u91CC\u662F\u751F\u6548\u7684\u3002\u5148\u5FFD\u7565
  console.log('useWatch', name, detailName);

  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
      search: true,
    },
  ];

  return (
    <CURD
      actions={['create', 'read', 'update']}
      hmTableProps={{
        formRef,
        hmColumns,
        hmRequest: fakeRequest,
      }}
      detailFormInstance={detailFormInstance}
      detailForm={(formProps) => (
        <>
          <ProFormText
            {...formProps}
            name="name"
            label="\u540D\u5B57"
            required
            rules={[{ required: true }]}
            initialValue={'default'}
          />
          <ProFormSwitch {...formProps} name="status" label="\u5F00\u542F" initialValue={false} />
        </>
      )}
      requestGetById={fakeGetById}
      requestAdd={fakeAdd}
      requestUpdateById={fakeUpdateById}
    />
  );
}

function ActionRef() {
  const ref = useRef<any>();

  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
      search: true,
    },
  ];

  return (
    <>
      <Button onClick={() => ref.current.getActionRef().current?.reload()}>reload</Button>
      <CURD
        ref={ref}
        actions={[]}
        hmTableProps={{
          hmColumns,
          hmRequest: fakeRequest,
        }}
      />
    </>
  );
}

function RemoteData() {
  const hmColumns: CURDProps['hmTableProps']['hmColumns'] = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
      search: true,
    },
    {
      title: '\u7B49\u7EA7(\u672C\u5730\u6570\u636E)',
      dataIndex: 'level',
      search: true,
      valueEnum: levels,
    },
    {
      title: 'city(\u8FDC\u7AEF\u6570\u636E)',
      dataIndex: 'city',
      search: true,
      request: async () => {
        const res = await fakeRequestCity();

        return (
          res.map((item) => ({
            label: item,
            value: item,
          })) || []
        );
      },
    },
    {
      title: 'area(\u8054\u52A8 city)',
      dataIndex: 'area',
      search: true,
      request: async (params) => {
        console.log('params', params);
        const res = await fakeRequestArea(params);

        return (
          res.map((item) => ({
            label: item,
            value: item,
          })) || []
        );
      },
      dependencies: ['city'],
    },
    {
      title: '\u5B66\u6821(\u8FDC\u7AEF\u6570\u636E label value)',
      dataIndex: 'school',
      search: true,
      valueType: 'select',
      request: () => fakeRequestSchool(),
    },
  ];

  return (
    <CURD
      actions={[]}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeRequest,
      }}
    />
  );
}

function NoSearch() {
  const ref = useRef<any>();

  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
    },
  ];

  return (
    <CURD
      ref={ref}
      actions={[]}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeRequest,
      }}
    />
  );
}

const CustomOperate = () => {
  const hmColumns = [
    {
      title: 'id',
      dataIndex: 'id',
      search: true,
    },
    {
      title: '\u540D\u5B57',
      dataIndex: 'name',
      search: true,
      ellipsis: true,
    },
  ];

  return (
    <CURD
      actions={['create', 'read', 'delete', 'update']}
      hmTableProps={{
        hmColumns,
        hmRequest: fakeRequest,
      }}
      operateColumnProps={{
        width: 230,
        moreOperator: () => <div>custom</div>,
      }}
      readProps={{
        operateText: '\u67E5\u770B\u5566',
      }}
      deleteById={fakeDeleteById}
      deleteProps={{
        nameIndex: 'name',
        operateText: '\u5220\u9664\u5566',
      }}
      detailForm={(formProps) => (
        <>
          <ProFormText
            {...formProps}
            name="name"
            label="\u540D\u5B57"
            required
            rules={[{ required: true }]}
          />
        </>
      )}
      requestGetById={fakeGetById}
      requestAdd={fakeAdd}
      updateProps={{
        operateText: '\u66F4\u65B0\u5566',
      }}
      requestUpdateById={fakeUpdateById}
    />
  );
};

export { Normal, ReadDetail, Ref, ActionRef, RemoteData, NoSearch, CustomOperate };
`}}]);
